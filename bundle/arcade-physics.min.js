/*! For license information please see arcade-physics.min.js.LICENSE.txt */
var PHYSICS;(()=>{var t={6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function s(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,s,o,n){if("function"!=typeof s)throw new TypeError("The listener must be a function");var h=new r(s,o||t,n),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],h]:t._events[a].push(h):(t._events[a]=h,t._eventsCount++),t}function n(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function h(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),h.prototype.eventNames=function(){var t,s,r=[];if(0===this._eventsCount)return r;for(s in t=this._events)e.call(t,s)&&r.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},h.prototype.listeners=function(t){var e=i?i+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var r=0,o=s.length,n=new Array(o);r<o;r++)n[r]=s[r].fn;return n},h.prototype.listenerCount=function(t){var e=i?i+t:t,s=this._events[e];return s?s.fn?1:s.length:0},h.prototype.emit=function(t,e,s,r,o,n){var h=i?i+t:t;if(!this._events[h])return!1;var a,l,c=this._events[h],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,s),!0;case 4:return c.fn.call(c.context,e,s,r),!0;case 5:return c.fn.call(c.context,e,s,r,o),!0;case 6:return c.fn.call(c.context,e,s,r,o,n),!0}for(l=1,a=new Array(u-1);l<u;l++)a[l-1]=arguments[l];c.fn.apply(c.context,a)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,s);break;case 4:c[l].fn.call(c[l].context,e,s,r);break;default:if(!a)for(d=1,a=new Array(u-1);d<u;d++)a[d-1]=arguments[d];c[l].fn.apply(c[l].context,a)}}return!0},h.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},h.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},h.prototype.removeListener=function(t,e,s,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return n(this,o),this;var h=this._events[o];if(h.fn)h.fn!==e||r&&!h.once||s&&h.context!==s||n(this,o);else{for(var a=0,l=[],c=h.length;a<c;a++)(h[a].fn!==e||r&&!h[a].once||s&&h[a].context!==s)&&l.push(h[a]);l.length?this._events[o]=1===l.length?l[0]:l:n(this,o)}return this},h.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&n(this,e)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=i,h.EventEmitter=h,t.exports=h},2582:function(t){t.exports=function(){"use strict";function t(t,s,r,o,n){!function t(i,s,r,o,n){for(;o>r;){if(o-r>600){var h=o-r+1,a=s-r+1,l=Math.log(h),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(h-c)/h)*(a-h/2<0?-1:1);t(i,s,Math.max(r,Math.floor(s-a*c/h+u)),Math.min(o,Math.floor(s+(h-a)*c/h+u)),n)}var d=i[s],f=r,y=o;for(e(i,r,s),n(i[o],d)>0&&e(i,r,o);f<y;){for(e(i,f,y),f++,y--;n(i[f],d)<0;)f++;for(;n(i[y],d)>0;)y--}0===n(i[r],d)?e(i,r,y):e(i,++y,o),y<=s&&(r=y+1),s<=y&&(o=y-1)}}(t,s,r||0,o||t.length-1,n||i)}function e(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function i(t,e){return t<e?-1:t>e?1:0}var s=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,i){if(!i)return e.indexOf(t);for(var s=0;s<e.length;s++)if(i(t,e[s]))return s;return-1}function o(t,e){n(t,0,t.children.length,e,t)}function n(t,e,i,s,r){r||(r=y(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<i;o++){var n=t.children[o];h(r,t.leaf?s(n):n)}return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function a(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function p(e,i,s,r,o){for(var n=[i,s];n.length;)if(!((s=n.pop())-(i=n.pop())<=r)){var h=i+Math.ceil((s-i)/r/2)*r;t(e,h,i,s,o),n.push(i,h,h,s)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(t){var e=this.data,i=[];if(!f(t,e))return i;for(var s=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var n=e.children[o],h=e.leaf?s(n):n;f(t,h)&&(e.leaf?i.push(n):d(t,h)?this._all(n,i):r.push(n))}e=r.pop()}return i},s.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var i=[];e;){for(var s=0;s<e.children.length;s++){var r=e.children[s],o=e.leaf?this.toBBox(r):r;if(f(t,o)){if(e.leaf||d(t,o))return!0;i.push(r)}}e=i.pop()}return!1},s.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var s=this.data;this.data=i,i=s}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},s.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},s.prototype.clear=function(){return this.data=y([]),this},s.prototype.remove=function(t,e){if(!t)return this;for(var i,s,o,n=this.data,h=this.toBBox(t),a=[],l=[];n||a.length;){if(n||(n=a.pop(),s=a[a.length-1],i=l.pop(),o=!0),n.leaf){var c=r(t,n.children,e);if(-1!==c)return n.children.splice(c,1),a.push(n),this._condense(a),this}o||n.leaf||!d(n,h)?s?(i++,n=s.children[i],o=!1):n=null:(a.push(n),l.push(i),i=0,s=n,n=n.children[0])}return this},s.prototype.toBBox=function(t){return t},s.prototype.compareMinX=function(t,e){return t.minX-e.minX},s.prototype.compareMinY=function(t,e){return t.minY-e.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(t){return this.data=t,this},s.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},s.prototype._build=function(t,e,i,s){var r,n=i-e+1,h=this._maxEntries;if(n<=h)return o(r=y(t.slice(e,i+1)),this.toBBox),r;s||(s=Math.ceil(Math.log(n)/Math.log(h)),h=Math.ceil(n/Math.pow(h,s-1))),(r=y([])).leaf=!1,r.height=s;var a=Math.ceil(n/h),l=a*Math.ceil(Math.sqrt(h));p(t,e,i,l,this.compareMinX);for(var c=e;c<=i;c+=l){var u=Math.min(c+l-1,i);p(t,c,u,a,this.compareMinY);for(var d=c;d<=u;d+=a){var f=Math.min(d+a-1,u);r.children.push(this._build(t,d,f,s-1))}}return o(r,this.toBBox),r},s.prototype._chooseSubtree=function(t,e,i,s){for(;s.push(e),!e.leaf&&s.length-1!==i;){for(var r=1/0,o=1/0,n=void 0,h=0;h<e.children.length;h++){var a=e.children[h],l=c(a),u=(d=t,f=a,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-l);u<o?(o=u,r=l<r?l:r,n=a):u===o&&l<r&&(r=l,n=a)}e=n||e.children[0]}var d,f;return e},s.prototype._insert=function(t,e,i){var s=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(s,this.data,e,r);for(o.children.push(t),h(o,s);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(s,r,e)},s.prototype._split=function(t,e){var i=t[e],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);var n=this._chooseSplitIndex(i,r,s),h=y(i.children.splice(n,i.children.length-n));h.height=i.height,h.leaf=i.leaf,o(i,this.toBBox),o(h,this.toBBox),e?t[e-1].children.push(h):this._splitRoot(i,h)},s.prototype._splitRoot=function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(t,e,i){for(var s,r,o,h,a,l,u,d=1/0,f=1/0,y=e;y<=i-e;y++){var p=n(t,0,y,this.toBBox),v=n(t,y,i,this.toBBox),m=(r=p,o=v,void 0,void 0,void 0,void 0,h=Math.max(r.minX,o.minX),a=Math.max(r.minY,o.minY),l=Math.min(r.maxX,o.maxX),u=Math.min(r.maxY,o.maxY),Math.max(0,l-h)*Math.max(0,u-a)),x=c(p)+c(v);m<d?(d=m,s=y,f=x<f?x:f):m===d&&x<f&&(f=x,s=y)}return s||i-e},s.prototype._chooseSplitAxis=function(t,e,i){var s=t.leaf?this.compareMinX:a,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,s)<this._allDistMargin(t,e,i,r)&&t.children.sort(s)},s.prototype._allDistMargin=function(t,e,i,s){t.children.sort(s);for(var r=this.toBBox,o=n(t,0,e,r),a=n(t,i-e,i,r),l=u(o)+u(a),c=e;c<i-e;c++){var d=t.children[c];h(o,t.leaf?r(d):d),l+=u(o)}for(var f=i-e-1;f>=e;f--){var y=t.children[f];h(a,t.leaf?r(y):y),l+=u(a)}return l},s.prototype._adjustParentBBoxes=function(t,e,i){for(var s=i;s>=0;s--)h(e[s],t)},s.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},s}()},7167:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameObject=void 0;const r=s(i(2241));class o{constructor(t,e){this.scene=t,this.displayList=null,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1}setActive(t){return this.active=t,this}setName(t){return this.name=t,this}setState(t){return this.state=t,this}setDataEnabled(){return this.data||(this.data=new DataManager(this)),this}setData(t,e){return this.data||(this.data=new DataManager(this)),this.data.set(t,e),this}incData(t,e){return this.data||(this.data=new DataManager(this)),this.data.inc(t,e),this}toggleData(t){return this.data||(this.data=new DataManager(this)),this.data.toggle(t),this}getData(t){return this.data||(this.data=new DataManager(this)),this.data.get(t)}setInteractive(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this}disableInteractive(){return this.input&&(this.input.enabled=!1),this}removeInteractive(){return this.scene.sys.input.clear(this),this.input=void 0,this}addedToScene(){}removedFromScene(){}update(){}toJSON(){return(0,r.default)(this)}willRender(t){return!(o.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)}getIndexList(){let t=this,e=this.parentContainer;const i=[];for(;e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return this.displayList?i.unshift(this.displayList.getIndex(t)):i.unshift(this.scene.sys.displayList.getIndex(t)),i}addToDisplayList(t){return void 0===t&&(t=this.scene.sys.displayList),this.displayList&&this.displayList!==t&&this.removeFromDisplayList(),t.exists(this)||(this.displayList=t,t.add(this,!0),t.queueDepthSort()),this}addToUpdateList(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this}removeFromDisplayList(){const t=this.displayList||this.scene.sys.displayList;return t.exists(this)&&(t.remove(this,!0),t.queueDepthSort(),this.displayList=null),this}removeFromUpdateList(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this}destroy(t){this.scene&&!this.ignoreDestroy&&(void 0===t&&(t=!1),this.preDestroy&&this.preDestroy.call(this),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}}e.GameObject=o,o.RENDER_MASK=15},2241:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>{const e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},8319:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TransformMatrix=void 0;const r=s(i(4025)),o=s(i(9990));e.TransformMatrix=class{constructor(t,e,i,s,r,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=1),void 0===r&&(r=0),void 0===o&&(o=0),this.matrix=new Float32Array([t,e,i,s,r,o,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}}get a(){return this.matrix[0]}set a(t){this.matrix[0]=t}get b(){return this.matrix[1]}set b(t){this.matrix[1]=t}get c(){return this.matrix[2]}set c(t){this.matrix[2]=t}get d(){return this.matrix[3]}set d(t){this.matrix[3]=t}get e(){return this.matrix[4]}set e(t){this.matrix[4]=t}get f(){return this.matrix[5]}set f(t){this.matrix[5]=t}get tx(){return this.matrix[4]}set tx(t){this.matrix[4]=t}get ty(){return this.matrix[5]}set ty(t){this.matrix[5]=t}get rotation(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}get rotationNormalized(){const t=this.matrix,e=t[0],i=t[1],s=t[2],o=t[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):s||o?r.default.TAU-(o>0?Math.acos(-s/this.scaleY):-Math.acos(s/this.scaleY)):0}get scaleX(){return Math.sqrt(this.a*this.a+this.b*this.b)}get scaleY(){return Math.sqrt(this.c*this.c+this.d*this.d)}loadIdentity(){const t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this}translate(t,e){const i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this}scale(t,e){const i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this}rotate(t){const e=Math.sin(t),i=Math.cos(t),s=this.matrix,r=s[0],o=s[1],n=s[2],h=s[3];return s[0]=r*i+n*e,s[1]=o*i+h*e,s[2]=r*-e+n*i,s[3]=o*-e+h*i,this}multiply(t,e){const i=this.matrix,s=t.matrix,r=i[0],o=i[1],n=i[2],h=i[3],a=i[4],l=i[5],c=s[0],u=s[1],d=s[2],f=s[3],y=s[4],p=s[5],v=void 0===e?this:e;return v.a=c*r+u*n,v.b=c*o+u*h,v.c=d*r+f*n,v.d=d*o+f*h,v.e=y*r+p*n+a,v.f=y*o+p*h+l,v}multiplyWithOffset(t,e,i){const s=this.matrix,r=t.matrix,o=s[0],n=s[1],h=s[2],a=s[3],l=e*o+i*h+s[4],c=e*n+i*a+s[5],u=r[0],d=r[1],f=r[2],y=r[3],p=r[4],v=r[5];return s[0]=u*o+d*h,s[1]=u*n+d*a,s[2]=f*o+y*h,s[3]=f*n+y*a,s[4]=p*o+v*h+l,s[5]=p*n+v*a+c,this}transform(t,e,i,s,r,o){const n=this.matrix,h=n[0],a=n[1],l=n[2],c=n[3],u=n[4],d=n[5];return n[0]=t*h+e*l,n[1]=t*a+e*c,n[2]=i*h+s*l,n[3]=i*a+s*c,n[4]=r*h+o*l+u,n[5]=r*a+o*c+d,this}transformPoint(t,e,i){void 0===i&&(i={x:0,y:0});const s=this.matrix,r=s[0],o=s[1],n=s[2],h=s[3],a=s[4],l=s[5];return i.x=t*r+e*n+a,i.y=t*o+e*h+l,i}invert(){const t=this.matrix,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],n=t[5],h=e*r-i*s;return t[0]=r/h,t[1]=-i/h,t[2]=-s/h,t[3]=e/h,t[4]=(s*n-r*o)/h,t[5]=-(e*n-i*o)/h,this}copyFrom(t){const e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this}copyFromArray(t){const e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}copyToContext(t){const e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t}setToContext(t){const e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t}copyToArray(t){const e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t}setTransform(t,e,i,s,r,o){const n=this.matrix;return n[0]=t,n[1]=e,n[2]=i,n[3]=s,n[4]=r,n[5]=o,this}decomposeMatrix(){const t=this.decomposedMatrix,e=this.matrix,i=e[0],s=e[1],r=e[2],o=e[3],n=i*o-s*r;if(t.translateX=e[4],t.translateY=e[5],i||s){const e=Math.sqrt(i*i+s*s);t.rotation=s>0?Math.acos(i/e):-Math.acos(i/e),t.scaleX=e,t.scaleY=n/e}else if(r||o){const e=Math.sqrt(r*r+o*o);t.rotation=.5*Math.PI-(o>0?Math.acos(-r/e):-Math.acos(r/e)),t.scaleX=n/e,t.scaleY=e}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t}applyITRS(t,e,i,s,r){const o=this.matrix,n=Math.sin(i),h=Math.cos(i);return o[4]=t,o[5]=e,o[0]=h*s,o[1]=n*s,o[2]=-n*r,o[3]=h*r,this}applyInverse(t,e,i){void 0===i&&(i=new o.default);const s=this.matrix,r=s[0],n=s[1],h=s[2],a=s[3],l=s[4],c=s[5],u=1/(r*a+h*-n);return i.x=a*u*t+-h*u*e+(c*h-l*a)*u,i.y=r*u*e+-n*u*t+(-c*r+l*n)*u,i}getX(t,e){return t*this.a+e*this.c+this.e}getY(t,e){return t*this.b+e*this.d+this.f}getXRound(t,e,i){let s=this.getX(t,e);return i&&(s=Math.round(s)),s}getYRound(t,e,i){let s=this.getY(t,e);return i&&(s=Math.round(s)),s}getCSSMatrix(){const t=this.matrix;return`matrix(${t[0]},${t[1]},${t[2]},${t[3]},${t[4]},${t[5]})`}destroy(){this.matrix=null,this.decomposedMatrix=null}}},406:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0,s(i(6713));const r=s(i(3035)),o=s(i(9511)),n=s(i(2029)),h=s(i(5449)),a=s(i(7084));e.Circle=class{constructor(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.type=h.default.CIRCLE,this.x=t,this.y=e,this._radius=i,this._diameter=2*i}contains(t,e){return(0,r.default)(this,t,e)}getPoint(t,e){return(0,o.default)(this,t,e)}getPoints(t,e,i){return(0,n.default)(this,t,e,i)}getRandomPoint(t){return(0,a.default)(this,t)}setTo(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this}setEmpty(){return this._radius=0,this._diameter=0,this}setPosition(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}isEmpty(){return this._radius<=0}get radius(){return this._radius}set radius(t){this._radius=t,this._diameter=2*t}get diameter(){return this._diameter}set diameter(t){this._diameter=t,this._radius=.5*t}get left(){return this.x-this._radius}set left(t){this.x=t+this._radius}get right(){return this.x+this._radius}set right(t){this.x=t-this._radius}get top(){return this.y-this._radius}set top(t){this.y=t+this._radius}get bottom(){return this.y+this._radius}set bottom(t){this.y=t-this._radius}}},4254:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>Math.PI*t.radius*2},8163:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(7066));e.default=(t,e,i)=>(void 0===i&&(i=new r.default),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i)},3035:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius},9511:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(8163)),o=s(i(576)),n=s(i(4025)),h=s(i(7066));e.default=(t,e,i)=>{void 0===i&&(i=new h.default);const s=(0,o.default)(e,0,n.default.PI2);return(0,r.default)(t,s,i)}},2029:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(4254)),o=s(i(8163)),n=s(i(576)),h=s(i(4025));e.default=(t,e,i,s)=>{void 0===s&&(s=[]),!e&&i>0&&(e=(0,r.default)(t)/i);for(let i=0;i<e;i++){const r=(0,n.default)(i/e,0,h.default.PI2);s.push((0,o.default)(t,r))}return s}},7084:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(7066));e.default=(t,e)=>{void 0===e&&(e=new r.default);const i=2*Math.PI*Math.random(),s=Math.random()+Math.random(),o=s>1?2-s:s,n=o*Math.cos(i),h=o*Math.sin(i);return e.x=t.x+n*t.radius,e.y=t.y+h*t.radius,e}},5449:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},777:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(8083));e.default=(t,e)=>(0,r.default)(t.x,t.y,e.x,e.y)<=t.radius+e.radius},6108:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e)=>{const i=e.width/2,s=e.height/2,r=Math.abs(t.x-e.x-i),o=Math.abs(t.y-e.y-s),n=i+t.radius,h=s+t.radius;if(r>n||o>h)return!1;if(r<=i||o<=s)return!0;{const e=r-i,n=o-s;return e*e+n*n<=t.radius*t.radius}}},7383:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(7066));e.default=(t,e,i)=>(void 0===i&&(i=new r.default),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i)},2977:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(3096)),o=s(i(7066));e.default=(t,e,i,s)=>{void 0===s&&(s=[]),!e&&i>0&&(e=(0,r.default)(t)/i);const n=t.x1,h=t.y1,a=t.x2,l=t.y2;for(let t=0;t<e;t++){const i=t/e,r=n+(a-n)*i,c=h+(l-h)*i;s.push(new o.default(r,c))}return s}},3096:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))},4835:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(6713)),o=s(i(7383)),n=s(i(2977)),h=s(i(5449)),a=s(i(2111)),l=s(i(9990)),c=new r.default({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=h.default.LINE,this.x1=t,this.y1=e,this.x2=i,this.y2=s},getPoint:function(t,e){return(0,o.default)(this,t,e)},getPoints:function(t,e,i){return(0,n.default)(this,t,e,i)},getRandomPoint:function(t){return(0,a.default)(this,t)},setTo:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=s,this},getPointA:function(t){return void 0===t&&(t=new l.default),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new l.default),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});e.default=c},2111:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(7066));e.default=(t,e)=>{void 0===e&&(e=new r.default);const i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},7066:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(6713)),o=s(i(5449)),n=new r.default({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.type=o.default.POINT,this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});e.default=n},6756:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i},5461:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(2568)),o=s(i(7066));e.default=(t,e,i)=>{if(void 0===i&&(i=new o.default),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;let s=(0,r.default)(t)*e;return e>.5?(s-=t.width+t.height,s<=t.width?(i.x=t.right-s,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(s-t.width))):s<=t.width?(i.x=t.x+s,i.y=t.y):(i.x=t.right,i.y=t.y+(s-t.width)),i}},3318:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(5461)),o=s(i(2568));e.default=(t,e,i,s)=>{void 0===s&&(s=[]),!e&&i>0&&(e=(0,o.default)(t)/i);for(let i=0;i<e;i++){const o=i/e;s.push((0,r.default)(t,o))}return s}},2568:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>2*(t.width+t.height)},462:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(7066));e.default=(t,e)=>(void 0===e&&(e=new r.default),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e)},302:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;const r=s(i(6756)),o=s(i(5461)),n=s(i(3318)),h=s(i(5449)),a=s(i(4835)),l=s(i(462));e.Rectangle=class{constructor(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=h.default.RECTANGLE,this.x=t,this.y=e,this.width=i,this.height=s}contains(t,e){return(0,r.default)(this,t,e)}getPoint(t,e){return(0,o.default)(this,t,e)}getPoints(t,e,i){return(0,n.default)(this,t,e,i)}getRandomPoint(t){return(0,l.default)(this,t)}setTo(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this}setEmpty(){return this.setTo(0,0,0,0)}setPosition(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}setSize(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this}isEmpty(){return this.width<=0||this.height<=0}getLineA(t){return void 0===t&&(t=new a.default),t.setTo(this.x,this.y,this.right,this.y),t}getLineB(t){return void 0===t&&(t=new a.default),t.setTo(this.right,this.y,this.right,this.bottom),t}getLineC(t){return void 0===t&&(t=new a.default),t.setTo(this.right,this.bottom,this.x,this.bottom),t}getLineD(t){return void 0===t&&(t=new a.default),t.setTo(this.x,this.bottom,this.x,this.y),t}get left(){return this.x}set left(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}get right(){return this.x+this.width}set right(t){t<=this.x?this.width=0:this.width=t-this.x}get top(){return this.y}set top(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}get bottom(){return this.y+this.height}set bottom(t){t<=this.y?this.height=0:this.height=t-this.y}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}}},7132:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>Math.max(e,Math.min(i,t))},2386:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(4025));e.default=t=>t*r.default.DEG_TO_RAD},576:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(7132));e.default=(t,e,i)=>(i-e)*(t=(0,r.default)(t,0,1))+e},9990:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector2=void 0;const s=i(7996);class r{constructor(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)}clone(){return new r(this.x,this.y)}copy(t){return this.x=t.x||0,this.y=t.y||0,this}setFromObject(t){return this.x=t.x||0,this.y=t.y||0,this}set(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}setTo(t,e){return this.set(t,e)}setToPolar(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this}equals(t){return this.x===t.x&&this.y===t.y}fuzzyEquals(t,e){return s(this.x,t.x,e)&&s(this.y,t.y,e)}angle(){let t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t}setAngle(t){return this.setToPolar(t,this.length())}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}scale(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this}divide(t){return this.x/=t.x,this.y/=t.y,this}negate(){return this.x=-this.x,this.y=-this.y,this}distance(t){const e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)}distanceSq(t){const e=t.x-this.x,i=t.y-this.y;return e*e+i*i}length(){const t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}setLength(t){return this.normalize().scale(t)}lengthSq(){const t=this.x,e=this.y;return t*t+e*e}normalize(){const t=this.x,e=this.y;let i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this}normalizeRightHand(){const t=this.x;return this.x=-1*this.y,this.y=t,this}normalizeLeftHand(){const t=this.x;return this.x=this.y,this.y=-1*t,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lerp(t,e){void 0===e&&(e=0);const i=this.x,s=this.y;return this.x=i+e*(t.x-i),this.y=s+e*(t.y-s),this}transformMat3(t){const e=this.x,i=this.y,s=t.val;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}transformMat4(t){const e=this.x,i=this.y,s=t.val;return this.x=s[0]*e+s[4]*i+s[12],this.y=s[1]*e+s[5]*i+s[13],this}reset(){return this.x=0,this.y=0,this}limit(t){const e=this.length();return e&&e>t&&this.scale(t/e),this}reflect(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))}mirror(t){return this.reflect(t).negate()}rotate(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)}}e.Vector2=r,r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1)},1716:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>{const s=i-e;return e+((t-e)%s+s)%s}},4625:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e)=>Math.atan2(e.y-t.y,e.x-t.x)},4025:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.PI2=2*Math.PI]="PI2",t[t.TAU=.5*Math.PI]="TAU",t[t.EPSILON=1e-6]="EPSILON",t[t.DEG_TO_RAD=Math.PI/180]="DEG_TO_RAD",t[t.RAD_TO_DEG=180/Math.PI]="RAD_TO_DEG",t[t.MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991]="MIN_SAFE_INTEGER",t[t.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991]="MAX_SAFE_INTEGER"}(i||(i={})),e.default=i},8083:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i,s)=>{const r=t-i,o=e-s;return Math.sqrt(r*r+o*o)}},2236:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i,s)=>{const r=t-i,o=e-s;return r*r+o*o}},7996:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>(void 0===i&&(i=1e-4),Math.abs(t-e)<i)},9252:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>(void 0===i&&(i=1e-4),t>e-i)},2221:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>(void 0===i&&(i=1e-4),t<e+i)},2062:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ArcadePhysics=void 0;const r=s(i(2386)),o=s(i(8083)),n=s(i(2236)),h=i(7468),a=s(i(1233)),l=s(i(4153)),c=i(9990),u=i(7408);e.ArcadePhysics=class{constructor(t){const e={sys:{scale:{width:t.width,height:t.height},settings:{physics:t}}};this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this.boot()}boot(){this.world||(this.world=new u.World(this.scene,this.config)),this.add||(this.add=new h.Factory(this.world))}start(){this.world||(this.world=new u.World(this.scene,this.config),this.add=new h.Factory(this.world)),this.systems.events}enableUpdate(){}disableUpdate(){}getConfig(){var t,e,i;const s=(null===(e=null===(t=this.systems.game)||void 0===t?void 0:t.config)||void 0===e?void 0:e.physics)||{},r=(null===(i=this.systems.settings)||void 0===i?void 0:i.physics)||{};return Object.assign(Object.assign({},s),r)}overlap(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.world.collideObjects(t,e,i,s,r,!0)}collide(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.world.collideObjects(t,e,i,s,r,!1)}pause(){return this.world.pause()}resume(){return this.world.resume()}accelerateTo(t,e,i,s,r,o){void 0===s&&(s=60);const n=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(n,s),void 0!==r&&void 0!==o&&t.body.maxVelocity.set(r,o),n}accelerateToObject(t,e,i,s,r){return this.accelerateTo(t,e.x,e.y,i,s,r)}closest(t,e=this.world.bodies){let i=Number.MAX_VALUE,s=null;const r=t.x,o=t.y;e.size;for(const h of e){const e=h.body||h;if(t===h||t===e||t===e.gameObject||t===e.center)continue;const a=(0,n.default)(r,o,e.center.x,e.center.y);a<i&&(s=h,i=a)}return s}furthest(t,e=this.world.bodies){let i=-1,s=null;const r=t.x,o=t.y;e.size;for(const h of e){const e=h.body||h;if(t===h||t===e||t===e.gameObject||t===e.center)continue;const a=(0,n.default)(r,o,e.center.x,e.center.y);a>i&&(s=h,i=a)}return s}moveTo(t,e,i,s=60,r=0){const n=Math.atan2(i-t.y,e-t.x);return r>0&&(s=(0,o.default)(t.x,t.y,e,i)/(r/1e3)),t.velocity.setToPolar(n,s),n}moveToObject(t,e,i=60,s=0){return this.moveTo(t,e.x,e.y,i,s)}velocityFromAngle(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new c.Vector2),i.setToPolar((0,r.default)(t),e)}velocityFromRotation(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new c.Vector2),i.setToPolar(t,e)}overlapRect(t,e,i,s,r=!0,o=!1){return(0,l.default)(this.world,t,e,i,s,r,o)}overlapCirc(t,e,i,s,r){return(0,a.default)(this.world,t,e,i,s,r)}shutdown(){this.world&&(this.systems.events,this.add.destroy(),this.world.destroy(),this.add=null,this.world=null)}destroy(){this.shutdown(),this.scene=null,this.systems=null}}},6751:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Body=void 0;const r=s(i(9915)),o=s(i(9940)),n=i(302),h=s(i(6756)),a=i(9990),l=i(4007);e.Body=class{constructor(t,e,i,s=64,o=64){this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a.Vector2,this.allowRotation=!0,this.velocity=new a.Vector2,this.newVelocity=new a.Vector2,this.deltaMax=new a.Vector2,this.acceleration=new a.Vector2,this.allowDrag=!0,this.drag=new a.Vector2,this.allowGravity=!0,this.gravity=new a.Vector2,this.bounce=new a.Vector2,this.worldBounce=null,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a.Vector2(1e4,1e4),this.maxSpeed=-1,this.friction=new a.Vector2(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=r.default.FACING.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=r.default.PHYSICS_TYPE.DYNAMIC_BODY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n.Rectangle,this.isBody=!0;const h=new l.Object2D(t.scene,e,i,s,o);this.world=t,this.gameObject=h,this.transform={x:h.x,y:h.y,rotation:h.angle,scaleX:h.scaleX,scaleY:h.scaleY,displayOriginX:h.displayOriginX,displayOriginY:h.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.position=new a.Vector2(h.x-h.scaleX*h.displayOriginX,h.y-h.scaleY*h.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.rotation=h.angle,this.preRotation=h.angle,this.width=s,this.height=o,this.sourceWidth=s,this.sourceHeight=o,this.halfWidth=Math.abs(s/2),this.halfHeight=Math.abs(o/2),this.center=new a.Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.customBoundsRectangle=t.bounds,this._sx=h.scaleX,this._sy=h.scaleY}get minX(){return this.x}get minY(){return this.y}get maxX(){return this.x+this.width}get maxY(){return this.y+this.height}updateCenter(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)}resetFlags(t=!1){const e=this.wasTouching,i=this.touching,s=this.blocked;t?(e.none=!0,e.up=!1,e.down=!1,e.left=!1,e.right=!1):(e.none=i.none,e.up=i.up,e.down=i.down,e.left=i.left,e.right=i.right),i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,s.none=!0,s.up=!1,s.down=!1,s.left=!1,s.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1}preUpdate(t,e){t&&this.resetFlags(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),t&&this.update(e)}update(t){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,t);const e=this.velocity.x,i=this.velocity.y;this.newVelocity.set(e*t,i*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,e),this.speed=Math.sqrt(e*e+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.default.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y}postUpdate(){let t=this.position.x-this.prevFrame.x,e=this.position.y-this.prevFrame.y;if(this.moves){const i=this.deltaMax.x,s=this.deltaMax.y;0!==i&&0!==t&&(t<0&&t<-i?t=-i:t>0&&t>i&&(t=i)),0!==s&&0!==e&&(e<0&&e<-s?e=-s:e>0&&e>s&&(e=s)),this.gameObject.x+=t,this.gameObject.y+=e}t<0?this.facing=r.default.FACING.FACING_LEFT:t>0&&(this.facing=r.default.FACING.FACING_RIGHT),e<0?this.facing=r.default.FACING.FACING_UP:e>0&&(this.facing=r.default.FACING.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=t,this._ty=e}setBoundsRectangle(t){return this.customBoundsRectangle=t||this.world.bounds,this}checkWorldBounds(){const t=this.position,e=this.customBoundsRectangle,i=this.world.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,r=this.worldBounce?-this.worldBounce.y:-this.bounce.y;let o=!1;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=s,this.blocked.left=!0,o=!0):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=s,this.blocked.right=!0,o=!0),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=r,this.blocked.up=!0,o=!0):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=r,this.blocked.down=!0,o=!0),o&&(this.blocked.none=!1,this.updateCenter()),o}setSize(t,e,i=!0){void 0===i&&(i=!0);const s=this.gameObject;if(this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&s.getCenter){const i=(s.width-t)/2,r=(s.height-e)/2;this.offset.set(i,r)}return this.isCircle=!1,this.radius=0,this}setCircle(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this}reset(t,e){this.stop();const i=this.gameObject;i.setPosition(t,e),i.getTopLeft?i.getTopLeft(this.position):this.position.set(t,e),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateCenter(),this.resetFlags(!0)}stop(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this}getBounds(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t}hitTest(t,e){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-e)*(this.center.y-e)<=this.radius*this.radius:(0,h.default)(this,t,e)}onFloor(){return this.blocked.down}onCeiling(){return this.blocked.up}onWall(){return this.blocked.left||this.blocked.right}deltaAbsX(){return this._dx>0?this._dx:-this._dx}deltaAbsY(){return this._dy>0?this._dy:-this._dy}deltaX(){return this._dx}deltaY(){return this._dy}deltaXFinal(){return this._tx}deltaYFinal(){return this._ty}deltaZ(){return this.rotation-this.preRotation}destroy(){this.enable=!1,this.world&&this.world.pendingDestroy.add(this)}drawDebug(t){var e,i;const s=this.position,r=s.x+this.halfWidth,o=s.y+this.halfHeight,n=(e,i,s,r)=>{t.moveTo(e,i),t.lineTo(s,r)},h=(e,i,s)=>{t.lineWidth=e,t.strokeStyle=(t=>{let e=(255&(t>>>=0)).toString(16),i=((65280&t)>>>8).toString(16),s=((16711680&t)>>>16).toString(16);return"0"===e&&(e="00"),"0"===i&&(i="00"),"0"===s&&(s="00"),`#${e}${i}${s}`})(i)};this.debugShowBody&&(t.beginPath(),h(1,this.debugBodyColor),this.isCircle?((e,i,s)=>{t.arc(e,i,s,0,2*Math.PI)})(r,o,this.width/2):(this.checkCollision.up&&n(s.x,s.y,s.x+this.width,s.y),this.checkCollision.right&&n(s.x+this.width,s.y,s.x+this.width,s.y+this.height),this.checkCollision.down&&n(s.x,s.y+this.height,s.x+this.width,s.y+this.height),this.checkCollision.left&&n(s.x,s.y,s.x,s.y+this.height)),t.stroke()),this.debugShowVelocity&&(t.beginPath(),h(1,(null===(i=null===(e=this.world)||void 0===e?void 0:e.defaults)||void 0===i?void 0:i.velocityDebugColor)||65280),n(r,o,r+this.velocity.x/2,o+this.velocity.y/2),t.stroke())}willDrawDebug(){return this.debugShowBody||this.debugShowVelocity}setCollideWorldBounds(t,e,i,s){void 0===t&&(t=!0),this.collideWorldBounds=t;const r=void 0!==e,o=void 0!==i;return(r||o)&&(this.worldBounce||(this.worldBounce=new a.Vector2),r&&(this.worldBounce.x=e),o&&(this.worldBounce.y=i)),void 0!==s&&(this.onWorldBounds=s),this}setVelocity(t,e){return this.velocity.set(t,e),t=this.velocity.x,e=this.velocity.y,this.speed=Math.sqrt(t*t+e*e),this}setVelocityX(t){this.velocity.x=t;const e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this}setVelocityY(t){this.velocity.y=t;const e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this}setMaxVelocity(t,e){return this.maxVelocity.set(t,e),this}setMaxVelocityX(t){return this.maxVelocity.x=t,this}setMaxVelocityY(t){return this.maxVelocity.y=t,this}setMaxSpeed(t){return this.maxSpeed=t,this}setBounce(t,e){return this.bounce.set(t,e),this}setBounceX(t){return this.bounce.x=t,this}setBounceY(t){return this.bounce.y=t,this}setAcceleration(t,e){return this.acceleration.set(t,e),this}setAccelerationX(t){return this.acceleration.x=t,this}setAccelerationY(t){return this.acceleration.y=t,this}setAllowDrag(t){return void 0===t&&(t=!0),this.allowDrag=t,this}setAllowGravity(t){return void 0===t&&(t=!0),this.allowGravity=t,this}setAllowRotation(t){return void 0===t&&(t=!0),this.allowRotation=t,this}setDrag(t,e){return this.drag.set(t,e),this}setDamping(t){return this.useDamping=t,this}setDragX(t){return this.drag.x=t,this}setDragY(t){return this.drag.y=t,this}setGravity(t,e){return this.gravity.set(t,e),this}setGravityX(t){return this.gravity.x=t,this}setGravityY(t){return this.gravity.y=t,this}setFriction(t,e){return this.friction.set(t,e),this}setFrictionX(t){return this.friction.x=t,this}setFrictionY(t){return this.friction.y=t,this}setAngularVelocity(t){return this.angularVelocity=t,this}setAngularAcceleration(t){return this.angularAcceleration=t,this}setAngularDrag(t){return this.angularDrag=t,this}setMass(t){return this.mass=t,this}setImmovable(t){return void 0===t&&(t=!0),this.immovable=t,this}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}processX(t,e,i,s){this.x+=t,this.updateCenter(),null!==e&&(this.velocity.x=e);const r=this.blocked;i&&(r.left=!0),s&&(r.right=!0)}processY(t,e,i,s){this.y+=t,this.updateCenter(),null!==e&&(this.velocity.y=e);const r=this.blocked;i&&(r.up=!0),s&&(r.down=!0)}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get left(){return this.position.x}get right(){return this.position.x+this.width}get top(){return this.position.y}get bottom(){return this.position.y+this.height}}},333:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Collider=void 0,e.Collider=class{constructor(t,e,i,s,r,o,n){this.world=t,this.overlapOnly=e,this.body1=i,this.body2=s,this.collideCallback=r,this.processCallback=o,this.callbackContext=n,this.name="",this.active=!0}setName(t){return this.name=t,this}update(){this.world.collideObjects(this.body1,this.body2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)}destroy(){this.world.removeCollider(this),this.active=!1,this.world=null,this.body1=null,this.body2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}}},7468:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const s=i(6751),r=i(4432);e.Factory=class{constructor(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys}body(t,e,i=64,r=64){const o=new s.Body(this.world,t,e,i,r);return this.world.add(o),o}staticBody(t,e,i=64,s=64){const o=new r.StaticBody(this.world,t,e,i,s);return this.world.add(o),o}collider(t,e,i,s,r){return this.world.addCollider(t,e,i,s,r)}overlap(t,e,i,s,r){return this.world.addOverlap(t,e,i,s,r)}destroy(){this.world=null,this.scene=null,this.sys=null}}},2611:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GetOverlapX=void 0;const r=s(i(9915));e.GetOverlapX=(t,e,i,s)=>{let o=0;const n=t.deltaAbsX()+e.deltaAbsX()+s;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(o=t.right-e.x,o>n&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?o=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0))):t._dx<e._dx&&(o=t.x-e.width-e.x,-o>n&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?o=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=o,e.overlapX=o,o}},6154:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GetOverlapY=void 0;const r=s(i(9915));e.GetOverlapY=(t,e,i,s)=>{let o=0;const n=t.deltaAbsY()+e.deltaAbsY()+s;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(o=t.bottom-e.y,o>n&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?o=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0))):t._dy<e._dy&&(o=t.y-e.bottom,-o>n&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?o=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=o,e.overlapY=o,o}},4007:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Object2D=void 0;const s=i(7167);class r extends s.GameObject{constructor(t,e,i,s=64,r=64){super(t,"Object2D"),this.frame=!1,this.getTopLeft=t=>{},this.getCenter=!1,this.on=t=>{},"object"!=typeof t&&console.log('ERROR: The first param of "Object2D" should be the "scene"'),this.x=e,this.y=i,this.angle=0,this.scaleX=1,this.scaleY=1,this.displayOriginX=0,this.displayOriginY=0,this.originX=0,this.originY=0,this.active=!0,this.width=s,this.height=r,this.displayWidth=s,this.displayHeight=r}setPosition(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}setVisible(t){return this.visible=t,this}}e.Object2D=r},453:(t,e)=>{"use strict";let i,s,r,o,n,h,a,l,c,u,d,f,y,p,v,m,x;Object.defineProperty(e,"__esModule",{value:!0}),e.RunImmovableBody2=e.RunImmovableBody1=e.Run=e.Check=e.BlockCheck=e.Set=void 0,e.Set=(t,n,h)=>{i=t,s=n;const g=i.velocity.x,_=s.velocity.x;return r=i.pushable,c=i._dx<0,u=i._dx>0,d=0===i._dx,v=Math.abs(i.right-s.x)<=Math.abs(s.right-i.x),a=_-g*i.bounce.x,o=s.pushable,f=s._dx<0,y=s._dx>0,p=0===s._dx,m=!v,l=g-_*s.bounce.x,x=Math.abs(h),(0,e.BlockCheck)()},e.BlockCheck=()=>u&&v&&s.blocked.right?(i.processX(-x,a,!1,!0),1):c&&m&&s.blocked.left?(i.processX(x,a,!0),1):y&&m&&i.blocked.right?(s.processX(-x,l,!1,!0),2):f&&v&&i.blocked.left?(s.processX(x,l,!0),2):0,e.Check=()=>{const t=i.velocity.x,r=s.velocity.x;let o=Math.sqrt(r*r*s.mass/i.mass)*(r>0?1:-1),a=Math.sqrt(t*t*i.mass/s.mass)*(t>0?1:-1);const l=.5*(o+a);return o-=l,a-=l,n=l+o*i.bounce.x,h=l+a*s.bounce.x,c&&m?(0,e.Run)(0):f&&v?(0,e.Run)(1):u&&v?(0,e.Run)(2):!(!y||!m)&&(0,e.Run)(3)},e.Run=t=>{if(r&&o)x*=.5,0===t||3===t?(i.processX(x,n),s.processX(-x,h)):(i.processX(-x,n),s.processX(x,h));else if(r&&!o)0===t||3===t?i.processX(x,a,!0):i.processX(-x,a,!1,!0);else if(!r&&o)0===t||3===t?s.processX(-x,l,!1,!0):s.processX(x,l,!0);else{const e=.5*x;0===t?p?(i.processX(x,0,!0),s.processX(0,null,!1,!0)):y?(i.processX(e,0,!0),s.processX(-e,0,!1,!0)):(i.processX(e,s.velocity.x,!0),s.processX(-e,null,!1,!0)):1===t?d?(i.processX(0,null,!1,!0),s.processX(x,0,!0)):u?(i.processX(-e,0,!1,!0),s.processX(e,0,!0)):(i.processX(-e,null,!1,!0),s.processX(e,i.velocity.x,!0)):2===t?p?(i.processX(-x,0,!1,!0),s.processX(0,null,!0)):f?(i.processX(-e,0,!1,!0),s.processX(e,0,!0)):(i.processX(-e,s.velocity.x,!1,!0),s.processX(e,null,!0)):3===t&&(d?(i.processX(0,null,!0),s.processX(-x,0,!1,!0)):c?(i.processX(e,0,!0),s.processX(-e,0,!1,!0)):(i.processX(e,s.velocity.y,!0),s.processX(-e,null,!1,!0)))}return!0},e.RunImmovableBody1=t=>{1===t?s.velocity.x=0:v?s.processX(x,l,!0):s.processX(-x,l,!1,!0),i.moves&&(s.y+=(i.y-i.prev.y)*i.friction.y,s._dy=s.y-s.prev.y)},e.RunImmovableBody2=t=>{2===t?i.velocity.x=0:m?i.processX(x,a,!0):i.processX(-x,a,!1,!0),s.moves&&(i.y+=(s.y-s.prev.y)*s.friction.y,i._dy=i.y-i.prev.y)}},6907:(t,e)=>{"use strict";let i,s,r,o,n,h,a,l,c,u,d,f,y,p,v,m,x;Object.defineProperty(e,"__esModule",{value:!0}),e.RunImmovableBody2=e.RunImmovableBody1=e.Run=e.Check=e.BlockCheck=e.Set=void 0,e.Set=(t,n,h)=>{i=t,s=n;const g=i.velocity.y,_=s.velocity.y;return r=i.pushable,c=i._dy<0,u=i._dy>0,d=0===i._dy,v=Math.abs(i.bottom-s.y)<=Math.abs(s.bottom-i.y),a=_-g*i.bounce.y,o=s.pushable,f=s._dy<0,y=s._dy>0,p=0===s._dy,m=!v,l=g-_*s.bounce.y,x=Math.abs(h),(0,e.BlockCheck)()},e.BlockCheck=()=>u&&v&&s.blocked.down?(i.processY(-x,a,!1,!0),1):c&&m&&s.blocked.up?(i.processY(x,a,!0),1):y&&m&&i.blocked.down?(s.processY(-x,l,!1,!0),2):f&&v&&i.blocked.up?(s.processY(x,l,!0),2):0,e.Check=()=>{const t=i.velocity.y,r=s.velocity.y;let o=Math.sqrt(r*r*s.mass/i.mass)*(r>0?1:-1),a=Math.sqrt(t*t*i.mass/s.mass)*(t>0?1:-1);const l=.5*(o+a);return o-=l,a-=l,n=l+o*i.bounce.y,h=l+a*s.bounce.y,c&&m?(0,e.Run)(0):f&&v?(0,e.Run)(1):u&&v?(0,e.Run)(2):!(!y||!m)&&(0,e.Run)(3)},e.Run=t=>{if(r&&o)x*=.5,0===t||3===t?(i.processY(x,n),s.processY(-x,h)):(i.processY(-x,n),s.processY(x,h));else if(r&&!o)0===t||3===t?i.processY(x,a,!0):i.processY(-x,a,!1,!0);else if(!r&&o)0===t||3===t?s.processY(-x,l,!1,!0):s.processY(x,l,!0);else{const e=.5*x;0===t?p?(i.processY(x,0,!0),s.processY(0,null,!1,!0)):y?(i.processY(e,0,!0),s.processY(-e,0,!1,!0)):(i.processY(e,s.velocity.y,!0),s.processY(-e,null,!1,!0)):1===t?d?(i.processY(0,null,!1,!0),s.processY(x,0,!0)):u?(i.processY(-e,0,!1,!0),s.processY(e,0,!0)):(i.processY(-e,null,!1,!0),s.processY(e,i.velocity.y,!0)):2===t?p?(i.processY(-x,0,!1,!0),s.processY(0,null,!0)):f?(i.processY(-e,0,!1,!0),s.processY(e,0,!0)):(i.processY(-e,s.velocity.y,!1,!0),s.processY(e,null,!0)):3===t&&(d?(i.processY(0,null,!0),s.processY(-x,0,!1,!0)):c?(i.processY(e,0,!0),s.processY(-e,0,!1,!0)):(i.processY(e,s.velocity.y,!0),s.processY(-e,null,!1,!0)))}return!0},e.RunImmovableBody1=t=>{1===t?s.velocity.y=0:v?s.processY(x,l,!0):s.processY(-x,l,!1,!0),i.moves&&(s.x+=(i.x-i.prev.x)*i.friction.x,s._dx=s.x-s.prev.x)},e.RunImmovableBody2=t=>{2===t?i.velocity.y=0:m?i.processY(x,a,!0):i.processY(-x,a,!1,!0),s.moves&&(i.x+=(s.x-s.prev.x)*s.friction.x,i._dx=i.x-i.prev.x)}},8735:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,r)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeparateX=void 0;const n=i(2611),h=o(i(453));e.SeparateX=(t,e,i,s)=>{const r=(0,n.GetOverlapX)(t,e,i,s),o=t.immovable,a=e.immovable;if(i||0===r||o&&a||t.customSeparateX||e.customSeparateX)return 0!==r||t.embedded&&e.embedded;const l=h.Set(t,e,r);return o||a?(o?h.RunImmovableBody1(l):a&&h.RunImmovableBody2(l),!0):l>0||h.Check()}},2212:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,r)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeparateY=void 0;const n=i(6154),h=o(i(6907));e.SeparateY=(t,e,i,s)=>{const r=(0,n.GetOverlapY)(t,e,i,s),o=t.immovable,a=e.immovable;if(i||0===r||o&&a||t.customSeparateY||e.customSeparateY)return 0!==r||t.embedded&&e.embedded;const l=h.Set(t,e,r);return o||a?(o?h.RunImmovableBody1(l):a&&h.RunImmovableBody2(l),!0):l>0||h.Check()}},4432:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StaticBody=void 0;const r=s(i(3035)),o=s(i(6756)),n=s(i(9915)),h=i(9990),a=i(4007);e.StaticBody=class{constructor(t,e,i,s=64,r=64){this.world=t,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h.Vector2,this._dx=0,this._dy=0,this.isBody=!0;const o=new a.Object2D(t.scene,e,i,s,r);this.gameObject=o,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.position=new h.Vector2(o.x-s*o.originX,o.y-r*o.originY),this.width=s,this.height=r,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h.Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.Vector2.ZERO,this.allowGravity=!1,this.gravity=h.Vector2.ZERO,this.bounce=h.Vector2.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=n.default.PHYSICS_TYPE.STATIC_BODY,this._dx=0,this._dy=0}get minX(){return this.x}get minY(){return this.y}get maxX(){return this.x+this.width}get maxY(){return this.y+this.height}preUpdate(){}update(){}updateFromGameObject(){this.world.staticTree.remove(this);const t=this.gameObject;return this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this}setSize(t,e,i){return void 0===i&&(i=!0),this.gameObject,this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this}setCircle(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this}updateCenter(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)}reset(t,e){const i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),this.updateCenter(),this.world.staticTree.insert(this)}stop(){return this}getBounds(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t}hitTest(t,e){return this.isCircle?(0,r.default)(this,t,e):(0,o.default)(this,t,e)}postUpdate(){}deltaAbsX(){return 0}deltaAbsY(){return 0}deltaX(){return 0}deltaY(){return 0}deltaZ(){return 0}destroy(){this.enable=!1,this.world.pendingDestroy.add(this)}drawDebug(t){const e=this.position,i=e.x+this.halfWidth,s=e.y+this.halfHeight;var r;this.debugShowBody&&(t.beginPath(),1,r=this.debugBodyColor||255,t.lineWidth=1,t.strokeStyle=(t=>{let e=(255&(t>>>=0)).toString(16),i=((65280&t)>>>8).toString(16),s=((16711680&t)>>>16).toString(16);return"0"===e&&(e="00"),"0"===i&&(i="00"),"0"===s&&(s="00"),`#${e}${i}${s}`})(r),this.isCircle?((e,i,s)=>{t.arc(e,i,s,0,2*Math.PI)})(i,s,this.width/2):((e,i,s,r)=>{t.rect(e,i,s,r)})(e.x,e.y,this.width,this.height),t.stroke())}willDrawDebug(){return this.debugShowBody}setMass(t){return t<=0&&(t=.1),this.mass=t,this}get x(){return this.position.x}set x(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}get y(){return this.position.y}set y(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}get left(){return this.position.x}get right(){return this.position.x+this.width}get top(){return this.position.y}get bottom(){return this.position.y+this.height}}},7408:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.World=void 0;const r=s(i(4625)),o=s(i(7132)),n=s(i(8083)),h=s(i(6729)),a=s(i(9940)),l=s(i(7996)),c=s(i(9252)),u=s(i(2221)),d=i(2611),f=i(6154),y=s(i(5066)),p=s(i(2632)),v=i(302),m=i(8735),x=i(2212),g=i(8319),_=s(i(1716)),b=s(i(9915)),w=s(i(4025)),M=i(333),O=i(7985),C=i(9990);class P extends h.default{constructor(t,e){super(),this.scene=t,this.config=e,this.bodies=new Set,this.staticBodies=new Set,this.pendingDestroy=new Set,this._elapsed=0,this.colliders=new O.ProcessQueue,this.gravity=new C.Vector2((0,y.default)(e,"gravity.x",0),(0,y.default)(e,"gravity.y",0)),this.bounds=new v.Rectangle((0,y.default)(e,"x",0),(0,y.default)(e,"y",0),(0,y.default)(e,"width",t.sys.scale.width),(0,y.default)(e,"height",t.sys.scale.height)),this.checkCollision={up:(0,y.default)(e,"checkCollision.up",!0),down:(0,y.default)(e,"checkCollision.down",!0),left:(0,y.default)(e,"checkCollision.left",!0),right:(0,y.default)(e,"checkCollision.right",!0)},this.fps=(0,y.default)(e,"fps",60),this.fixedStep=(0,y.default)(e,"fixedStep",!0),this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=(0,y.default)(e,"timeScale",1),this.OVERLAP_BIAS=(0,y.default)(e,"overlapBias",4),this.TILE_BIAS=(0,y.default)(e,"tileBias",16),this.forceX=(0,y.default)(e,"forceX",!1),this.isPaused=(0,y.default)(e,"isPaused",!1),this._total=0,this.drawDebug=(0,y.default)(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:(0,y.default)(e,"debugShowBody",!0),debugShowStaticBody:(0,y.default)(e,"debugShowStaticBody",!0),debugShowVelocity:(0,y.default)(e,"debugShowVelocity",!0),bodyDebugColor:(0,y.default)(e,"debugBodyColor",16711935),staticBodyDebugColor:(0,y.default)(e,"debugStaticBodyColor",255),velocityDebugColor:(0,y.default)(e,"debugVelocityColor",65280)},this.maxEntries=(0,y.default)(e,"maxEntries",16),this.useTree=(0,y.default)(e,"useTree",!0),this.tree=new p.default(this.maxEntries),this.staticTree=new p.default(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new g.TransformMatrix,this._tempMatrix2=new g.TransformMatrix,this.drawDebug&&this.createDebugGraphic()}add(t){return t.physicsType===b.default.PHYSICS_TYPE.DYNAMIC_BODY?(this.bodies.add(t),this.tree.insert(t)):t.physicsType===b.default.PHYSICS_TYPE.STATIC_BODY&&(this.staticBodies.add(t),this.staticTree.insert(t)),t.enable=!0,t}disable(t){Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){const i=t[e];if(i.isParent){const t=i.getChildren();for(let e=0;e<t.length;e++){const i=t[e];i.isParent?this.disable(i):this.disableBody(i.body)}}else this.disableBody(i.body)}}disableBody(t){this.remove(t),t.enable=!1}remove(t){t.physicsType===b.default.PHYSICS_TYPE.DYNAMIC_BODY?(this.bodies.delete(t),this.tree.remove(t)):t.physicsType===b.default.PHYSICS_TYPE.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))}createDebugGraphic(){}setBounds(t,e,i,s,r,o,n,h){return this.bounds.setTo(t,e,i,s),void 0!==r&&this.setBoundsCollision(r,o,n,h),this}setBoundsCollision(t,e,i,s){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===s&&(s=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=s,this}pause(){return this.isPaused=!0,this.emit(a.default.PAUSE),this}resume(){return this.isPaused=!1,this.emit(a.default.RESUME),this}addCollider(t,e,i,s,r){void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i);const o=new M.Collider(this,!1,t,e,i,s,r);return this.colliders.add(o),o}addOverlap(t,e,i,s,r){void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i);const o=new M.Collider(this,!0,t,e,i,s,r);return this.colliders.add(o),o}removeCollider(t){return this.colliders.remove(t),this}setFPS(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this}update(t,e){if(this.isPaused||0===this.bodies.size)return;let i,s=this._frameTime;const r=this._frameTimeMS*this.timeScale;this._elapsed+=e;const o=this.bodies;let n=this._elapsed>=r;this.fixedStep||(s=.001*e,n=!0,this._elapsed=0);for(const t of o)t.enable&&t.preUpdate(n,s);if(n){this._elapsed-=r,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Array.from(o)));const t=this.colliders.update();for(i=0;i<t.length;i++){const e=t[i];e.active&&e.update()}this.emit(a.default.WORLD_STEP,s)}for(;this._elapsed>=r;)this._elapsed-=r,this.step(s)}step(t){let e;const i=this.bodies;i.size;for(const e of i)e.enable&&e.update(t);this.useTree&&(this.tree.clear(),this.tree.load(Array.from(i)));const s=this.colliders.update();for(e=0;e<s.length;e++){const t=s[e];t.active&&t.update()}this.emit(a.default.WORLD_STEP,t),this.stepsLastFrame++}postUpdate(){let t,e=this.bodies;const i=this.bodies,s=this.staticBodies;if(this.stepsLastFrame){this.stepsLastFrame=0;for(const t of e)t.enable&&t.postUpdate()}if(this.drawDebug){const i=this.debugGraphic;i.clear();for(const t of e)t.willDrawDebug()&&t.drawDebug(i);e=s,t=e.size;for(const t of e)t.willDrawDebug()&&t.drawDebug(i)}const r=this.pendingDestroy;if(r.size>0){const o=this.tree,n=this.staticTree;e=r,t=e.size;for(const t of e)t.physicsType===b.default.PHYSICS_TYPE.DYNAMIC_BODY?(o.remove(t),i.delete(t)):t.physicsType===b.default.PHYSICS_TYPE.STATIC_BODY&&(n.remove(t),s.delete(t)),t.world=void 0,t.gameObject=void 0;r.clear()}}updateMotion(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)}computeAngularVelocity(t,e){let i=t.angularVelocity;const s=t.angularAcceleration;let r=t.angularDrag;const n=t.maxAngular;s?i+=s*e:t.allowDrag&&r&&(r*=e,(0,c.default)(i-r,0,.1)?i-=r:(0,u.default)(i+r,0,.1)?i+=r:i=0),i=(0,o.default)(i,-n,n);const h=i-t.angularVelocity;t.angularVelocity+=h,t.rotation+=t.angularVelocity*e}computeVelocity(t,e){let i=t.velocity.x;const s=t.acceleration.x;let r=t.drag.x;const n=t.maxVelocity.x;let h=t.velocity.y;const a=t.acceleration.y;let d=t.drag.y;const f=t.maxVelocity.y;let y=t.speed;const p=t.maxSpeed,v=t.allowDrag,m=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,h+=(this.gravity.y+t.gravity.y)*e),s?i+=s*e:v&&r&&(m?(r=Math.pow(r,e),i*=r,y=Math.sqrt(i*i+h*h),(0,l.default)(y,0,.001)&&(i=0)):(r*=e,(0,c.default)(i-r,0,.01)?i-=r:(0,u.default)(i+r,0,.01)?i+=r:i=0)),a?h+=a*e:v&&d&&(m?(d=Math.pow(d,e),h*=d,y=Math.sqrt(i*i+h*h),(0,l.default)(y,0,.001)&&(h=0)):(d*=e,(0,c.default)(h-d,0,.01)?h-=d:(0,u.default)(h+d,0,.01)?h+=d:h=0)),i=(0,o.default)(i,-n,n),h=(0,o.default)(h,-f,f),t.velocity.set(i,h),p>-1&&y>p&&(t.velocity.normalize().scale(p),y=p),t.speed=y}separate(t,e,i,s,r,o){if(!o&&!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(s,t.gameObject,e.gameObject))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,r);if(t.isCircle!==e.isCircle){const i=t.isCircle?e:t,s=t.isCircle?t:e,o={x:i.x,y:i.y,right:i.right,bottom:i.bottom},n=s.center;if((n.y<o.y||n.y>o.bottom)&&(n.x<o.x||n.x>o.right))return this.separateCircle(t,e,r)}let n=!1,h=!1;r?(n=(0,m.SeparateX)(t,e,r,this.OVERLAP_BIAS),h=(0,x.SeparateY)(t,e,r,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(n=(0,m.SeparateX)(t,e,r,this.OVERLAP_BIAS),this.intersects(t,e)&&(h=(0,x.SeparateY)(t,e,r,this.OVERLAP_BIAS))):(h=(0,x.SeparateY)(t,e,r,this.OVERLAP_BIAS),this.intersects(t,e)&&(n=(0,m.SeparateX)(t,e,r,this.OVERLAP_BIAS)));const l=n||h;return l&&(r?(t.onOverlap||e.onOverlap)&&this.emit(a.default.OVERLAP,t.gameObject,e.gameObject,t,e):(t.onCollide||e.onCollide)&&this.emit(a.default.COLLIDE,t.gameObject,e.gameObject,t,e)),l}separateCircle(t,e,i,s){(0,d.GetOverlapX)(t,e,!1,s),(0,f.GetOverlapY)(t,e,!1,s);let o=0;if(t.isCircle!==e.isCircle){const i={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},s={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};s.y<i.y?s.x<i.x?o=(0,n.default)(s.x,s.y,i.x,i.y)-s.radius:s.x>i.right&&(o=(0,n.default)(s.x,s.y,i.right,i.y)-s.radius):s.y>i.bottom&&(s.x<i.x?o=(0,n.default)(s.x,s.y,i.x,i.bottom)-s.radius:s.x>i.right&&(o=(0,n.default)(s.x,s.y,i.right,i.bottom)-s.radius)),o*=-1}else o=t.halfWidth+e.halfWidth-(0,n.default)(t.center.x,t.center.y,e.center.x,e.center.y);if(t.overlapR=o,e.overlapR=o,i||0===o||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==o&&(t.onOverlap||e.onOverlap)&&this.emit(a.default.OVERLAP,t.gameObject,e.gameObject,t,e),0!==o;const h=t.center.x-e.center.x,l=t.center.y-e.center.y,c=Math.sqrt(Math.pow(h,2)+Math.pow(l,2)),u=(e.center.x-t.center.x)/c||0,y=(e.center.y-t.center.y)/c||0;let p=2*(t.velocity.x*u+t.velocity.y*y-e.velocity.x*u-e.velocity.y*y)/(t.mass+e.mass);(t.immovable||e.immovable)&&(p*=2),t.immovable||(t.velocity.x=t.velocity.x-p/t.mass*u,t.velocity.y=t.velocity.y-p/t.mass*y),e.immovable||(e.velocity.x=e.velocity.x+p/e.mass*u,e.velocity.y=e.velocity.y+p/e.mass*y),t.immovable||e.immovable||(o/=2);const v=(0,r.default)(t.center,e.center),m=(o+w.default.EPSILON)*Math.cos(v),x=(o+w.default.EPSILON)*Math.sin(v);return t.immovable||(t.x-=m,t.y-=x,t.updateCenter()),e.immovable||(e.x+=m,e.y+=x,e.updateCenter()),t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,(t.onCollide||e.onCollide)&&this.emit(a.default.COLLIDE,t.gameObject,e.gameObject,t,e),!0}intersects(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?(0,n.default)(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))}circleBodyIntersects(t,e){const i=(0,o.default)(t.center.x,e.left,e.right),s=(0,o.default)(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-s)*(t.center.y-s)<=t.halfWidth*t.halfWidth}overlap(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.collideObjects(t,e,i,s,r,!0)}collide(t,e,i,s,r){return void 0===r&&(r=i),this.collideObjects(t,e,i,s,r,!1)}collideObjects(t,e,i,s,r,o){let n,h;const a=Array.isArray(t),l=Array.isArray(e);if(this._total=0,a||l){if(!a&&l)for(n=0;n<e.length;n++)this.collideHandler(t,e[n],i,s,r,o);else if(a&&!l)if(e)for(n=0;n<t.length;n++)this.collideHandler(t[n],e,i,s,r,o);else for(n=0;n<t.length;n++){const e=t[n];for(h=n+1;h<t.length;h++)n!==h&&this.collideHandler(e,t[h],i,s,r,o)}else if(a&&l)for(n=0;n<t.length;n++)for(h=0;h<e.length;h++)this.collideHandler(t[n],e[h],i,s,r,o)}else this.collideHandler(t,e,i,s,r,o);return this._total>0}collideHandler(t,e,i,s,r,o){return!(!t||!e)&&(!Array.isArray(e)&&t.isBody&&e.isBody?this.collideBodyVsBody(t,e,i,s,r,o):void 0)}collideBodyVsBody(t,e,i,s,r,o){return!(!t.isBody||!e.isBody||(this.separate(t,e,s,r,o)&&(i&&i.call(r,t,e),this._total++),0))}wrap(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)}wrapArray(t,e){for(let i=0;i<t.length;i++)this.wrapObject(t[i],e)}wrapObject(t,e){void 0===e&&(e=0),t.x=(0,_.default)(t.x,this.bounds.left-e,this.bounds.right+e),t.y=(0,_.default)(t.y,this.bounds.top-e,this.bounds.bottom+e)}shutdown(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()}destroy(){this.shutdown(),this.scene=null}}e.World=P},1233:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(4153)),o=i(406),n=s(i(777)),h=s(i(6108));e.default=function(t,e,i,s,a=!0,l=!1){const c=(0,r.default)(t,e-s,i-s,2*s,2*s,a,l);if(0===c.length)return c;const u=new o.Circle(e,i,s),d=new o.Circle,f=[];for(let t=0;t<c.length;t++){const e=c[t];e.isCircle?(d.setTo(e.center.x,e.center.y,e.halfWidth),(0,n.default)(u,d)&&f.push(e)):(0,h.default)(u,e)&&f.push(e)}return f}},4153:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,s,r,o=!0,n=!1){let h=[],a=[];const l=t.treeMinMax;if(l.minX=e,l.minY=i,l.maxX=e+s,l.maxY=i+r,n&&(a=t.staticTree.search(l)),o&&t.useTree)h=t.tree.search(l);else if(o){const o=t.bodies,n={position:{x:e,y:i},left:e,top:i,right:e+s,bottom:i+r,isCircle:!1};o.forEach((e=>{t.intersects(e,n)&&h.push(e)}))}return[...a,...h]}},9915:(t,e)=>{"use strict";var i,s;Object.defineProperty(e,"__esModule",{value:!0}),e.FACING=e.PHYSICS_TYPE=void 0,function(t){t[t.DYNAMIC_BODY=0]="DYNAMIC_BODY",t[t.STATIC_BODY=1]="STATIC_BODY",t[t.GROUP=2]="GROUP",t[t.TILEMAPLAYER=3]="TILEMAPLAYER"}(i=e.PHYSICS_TYPE||(e.PHYSICS_TYPE={})),function(t){t[t.FACING_NONE=10]="FACING_NONE",t[t.FACING_UP=11]="FACING_UP",t[t.FACING_DOWN=12]="FACING_DOWN",t[t.FACING_LEFT=13]="FACING_LEFT",t[t.FACING_RIGHT=14]="FACING_RIGHT"}(s=e.FACING||(e.FACING={})),e.default={PHYSICS_TYPE:i,FACING:s}},9940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COLLIDE:"collide",OVERLAP:"overlap",PAUSE:"pause",RESUME:"resume",TILE_COLLIDE:"tilecollide",TILE_OVERLAP:"tileoverlap",WORLD_BOUNDS:"worldbounds",WORLD_STEP:"worldstep"}},7985:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProcessQueue=void 0;const r=s(i(6729)),o=s(i(7021));class n extends r.default{constructor(){super(),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1}add(t){return this._pending.push(t),this._toProcess++,t}remove(t){return this._destroy.push(t),this._toProcess++,t}removeAll(){for(var t=this._active,e=this._destroy,i=t.length;i--;)e.push(t[i]),this._toProcess++;return this}update(){if(0===this._toProcess)return this._active;var t,e,i=this._destroy,s=this._active;for(t=0;t<i.length;t++){e=i[t];var r=s.indexOf(e);-1!==r&&(s.splice(r,1),this.emit(o.default.PROCESS_QUEUE_REMOVE,e))}for(i.length=0,i=this._pending,t=0;t<i.length;t++)e=i[t],(!this.checkQueue||this.checkQueue&&-1===s.indexOf(e))&&(s.push(e),this.emit(o.default.PROCESS_QUEUE_ADD,e));return i.length=0,this._toProcess=0,s}getActive(){return this._active}get length(){return this._active.length}destroy(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}}e.ProcessQueue=n},2632:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.rbush=void 0;const r=s(i(2582));e.rbush=t=>new r.default(t);class o extends r.default{constructor(t){super(t)}}e.default=o},7021:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PROCESS_QUEUE_ADD:"add",PROCESS_QUEUE_REMOVE:"remove"}},6713:(t,e)=>{"use strict";function i(t,e,i){let s=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&s.value&&"object"==typeof s.value&&(s=s.value),!(!s||!function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(s))&&(void 0===s.enumerable&&(s.enumerable=!0),void 0===s.configurable&&(s.configurable=!0),s)}function s(t,e){let i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function r(t,e,r,o){for(const h in e){if(!e.hasOwnProperty(h))continue;const a=i(e,h,r);if(!1!==a){if(s((o||t).prototype,h)){if(n.ignoreFinals)continue;throw new Error(`cannot override final property '${h}', set Class.ignoreFinals = true to skip`)}Object.defineProperty(t.prototype,h,a)}else t.prototype[h]=e[h]}}function o(t,e){if(e){Array.isArray(e)||(e=[e]);for(let i=0;i<e.length;i++)r(t,e[i].prototype||e[i])}}function n(t){let e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){const i=t.Extends;e=function(){i.apply(this,arguments)}}else e=()=>{};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;let s=null;return t.Mixins&&(s=t.Mixins,delete t.Mixins),o(e,s),r(e,t,!0,i),e}Object.defineProperty(e,"__esModule",{value:!0}),n.extend=r,n.mixin=o,n.ignoreFinals=!1,e.default=n},5066:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,i)=>{if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){const s=e.split(".");let r=t,o=i;for(let t=0;t<s.length;t++){if(!r.hasOwnProperty(s[t])){o=i;break}o=r[s[t]],r=r[s[t]]}return o}return i}return i}}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}var s={};(()=>{"use strict";var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.ArcadePhysics=void 0;var e=i(2062);Object.defineProperty(t,"ArcadePhysics",{enumerable:!0,get:function(){return e.ArcadePhysics}})})(),PHYSICS=s})();