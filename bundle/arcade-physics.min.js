/*! For license information please see arcade-physics.min.js.LICENSE.txt */
var PHYSICS;(()=>{"use strict";var t={6729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function s(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,s,o,h){if("function"!=typeof s)throw new TypeError("The listener must be a function");var n=new r(s,o||t,h),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],n]:t._events[a].push(n):(t._events[a]=n,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function n(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),n.prototype.eventNames=function(){var t,s,r=[];if(0===this._eventsCount)return r;for(s in t=this._events)e.call(t,s)&&r.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},n.prototype.listeners=function(t){var e=i?i+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var r=0,o=s.length,h=new Array(o);r<o;r++)h[r]=s[r].fn;return h},n.prototype.listenerCount=function(t){var e=i?i+t:t,s=this._events[e];return s?s.fn?1:s.length:0},n.prototype.emit=function(t,e,s,r,o,h){var n=i?i+t:t;if(!this._events[n])return!1;var a,l,c=this._events[n],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,s),!0;case 4:return c.fn.call(c.context,e,s,r),!0;case 5:return c.fn.call(c.context,e,s,r,o),!0;case 6:return c.fn.call(c.context,e,s,r,o,h),!0}for(l=1,a=new Array(d-1);l<d;l++)a[l-1]=arguments[l];c.fn.apply(c.context,a)}else{var u,y=c.length;for(l=0;l<y;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,s);break;case 4:c[l].fn.call(c[l].context,e,s,r);break;default:if(!a)for(u=1,a=new Array(d-1);u<d;u++)a[u-1]=arguments[u];c[l].fn.apply(c[l].context,a)}}return!0},n.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},n.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},n.prototype.removeListener=function(t,e,s,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var n=this._events[o];if(n.fn)n.fn!==e||r&&!n.once||s&&n.context!==s||h(this,o);else{for(var a=0,l=[],c=n.length;a<c;a++)(n[a].fn!==e||r&&!n[a].once||s&&n[a].context!==s)&&l.push(n[a]);l.length?this._events[o]=1===l.length?l[0]:l:h(this,o)}return this},n.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&h(this,e)):(this._events=new s,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=i,n.EventEmitter=n,t.exports=n},7167:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameObject=void 0;var s=i(2241);class r{constructor(t,e){this.scene=t,this.displayList=null,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1}setActive(t){return this.active=t,this}setName(t){return this.name=t,this}setState(t){return this.state=t,this}setDataEnabled(){return this.data||(this.data=new DataManager(this)),this}setData(t,e){return this.data||(this.data=new DataManager(this)),this.data.set(t,e),this}incData(t,e){return this.data||(this.data=new DataManager(this)),this.data.inc(t,e),this}toggleData(t){return this.data||(this.data=new DataManager(this)),this.data.toggle(t),this}getData(t){return this.data||(this.data=new DataManager(this)),this.data.get(t)}setInteractive(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this}disableInteractive(){return this.input&&(this.input.enabled=!1),this}removeInteractive(){return this.scene.sys.input.clear(this),this.input=void 0,this}addedToScene(){}removedFromScene(){}update(){}toJSON(){return s(this)}willRender(t){return!(r.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)}getIndexList(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return this.displayList?i.unshift(this.displayList.getIndex(t)):i.unshift(this.scene.sys.displayList.getIndex(t)),i}addToDisplayList(t){return void 0===t&&(t=this.scene.sys.displayList),this.displayList&&this.displayList!==t&&this.removeFromDisplayList(),t.exists(this)||(this.displayList=t,t.add(this,!0),t.queueDepthSort()),this}addToUpdateList(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this}removeFromDisplayList(){var t=this.displayList||this.scene.sys.displayList;return t.exists(this)&&(t.remove(this,!0),t.queueDepthSort(),this.displayList=null),this}removeFromUpdateList(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this}destroy(t){this.scene&&!this.ignoreDestroy&&(void 0===t&&(t=!1),this.preDestroy&&this.preDestroy.call(this),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}}e.GameObject=r,r.RENDER_MASK=15},2241:t=>{t.exports=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},8319:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TransformMatrix=void 0;var s=i(4025),r=i(9990);e.TransformMatrix=class{constructor(t,e,i,s,r,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=1),void 0===r&&(r=0),void 0===o&&(o=0),this.matrix=new Float32Array([t,e,i,s,r,o,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}}get a(){return this.matrix[0]}set a(t){this.matrix[0]=t}get b(){return this.matrix[1]}set b(t){this.matrix[1]=t}get c(){return this.matrix[2]}set c(t){this.matrix[2]=t}get d(){return this.matrix[3]}set d(t){this.matrix[3]=t}get e(){return this.matrix[4]}set e(t){this.matrix[4]=t}get f(){return this.matrix[5]}set f(t){this.matrix[5]=t}get tx(){return this.matrix[4]}set tx(t){this.matrix[4]=t}get ty(){return this.matrix[5]}set ty(t){this.matrix[5]=t}get rotation(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}get rotationNormalized(){var t=this.matrix,e=t[0],i=t[1],r=t[2],o=t[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):r||o?s.TAU-(o>0?Math.acos(-r/this.scaleY):-Math.acos(r/this.scaleY)):0}get scaleX(){return Math.sqrt(this.a*this.a+this.b*this.b)}get scaleY(){return Math.sqrt(this.c*this.c+this.d*this.d)}loadIdentity(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this}translate(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this}scale(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this}rotate(t){var e=Math.sin(t),i=Math.cos(t),s=this.matrix,r=s[0],o=s[1],h=s[2],n=s[3];return s[0]=r*i+h*e,s[1]=o*i+n*e,s[2]=r*-e+h*i,s[3]=o*-e+n*i,this}multiply(t,e){var i=this.matrix,s=t.matrix,r=i[0],o=i[1],h=i[2],n=i[3],a=i[4],l=i[5],c=s[0],d=s[1],u=s[2],y=s[3],p=s[4],f=s[5],v=void 0===e?this:e;return v.a=c*r+d*h,v.b=c*o+d*n,v.c=u*r+y*h,v.d=u*o+y*n,v.e=p*r+f*h+a,v.f=p*o+f*n+l,v}multiplyWithOffset(t,e,i){var s=this.matrix,r=t.matrix,o=s[0],h=s[1],n=s[2],a=s[3],l=e*o+i*n+s[4],c=e*h+i*a+s[5],d=r[0],u=r[1],y=r[2],p=r[3],f=r[4],v=r[5];return s[0]=d*o+u*n,s[1]=d*h+u*a,s[2]=y*o+p*n,s[3]=y*h+p*a,s[4]=f*o+v*n+l,s[5]=f*h+v*a+c,this}transform(t,e,i,s,r,o){var h=this.matrix,n=h[0],a=h[1],l=h[2],c=h[3],d=h[4],u=h[5];return h[0]=t*n+e*l,h[1]=t*a+e*c,h[2]=i*n+s*l,h[3]=i*a+s*c,h[4]=r*n+o*l+d,h[5]=r*a+o*c+u,this}transformPoint(t,e,i){void 0===i&&(i={x:0,y:0});var s=this.matrix,r=s[0],o=s[1],h=s[2],n=s[3],a=s[4],l=s[5];return i.x=t*r+e*h+a,i.y=t*o+e*n+l,i}invert(){var t=this.matrix,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],h=t[5],n=e*r-i*s;return t[0]=r/n,t[1]=-i/n,t[2]=-s/n,t[3]=e/n,t[4]=(s*h-r*o)/n,t[5]=-(e*h-i*o)/n,this}copyFrom(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this}copyFromArray(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}copyToContext(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t}setToContext(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t}copyToArray(t){var e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t}setTransform(t,e,i,s,r,o){var h=this.matrix;return h[0]=t,h[1]=e,h[2]=i,h[3]=s,h[4]=r,h[5]=o,this}decomposeMatrix(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],s=e[1],r=e[2],o=e[3],h=i*o-s*r;if(t.translateX=e[4],t.translateY=e[5],i||s){var n=Math.sqrt(i*i+s*s);t.rotation=s>0?Math.acos(i/n):-Math.acos(i/n),t.scaleX=n,t.scaleY=h/n}else if(r||o){var a=Math.sqrt(r*r+o*o);t.rotation=.5*Math.PI-(o>0?Math.acos(-r/a):-Math.acos(r/a)),t.scaleX=h/a,t.scaleY=a}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t}applyITRS(t,e,i,s,r){var o=this.matrix,h=Math.sin(i),n=Math.cos(i);return o[4]=t,o[5]=e,o[0]=n*s,o[1]=h*s,o[2]=-h*r,o[3]=n*r,this}applyInverse(t,e,i){void 0===i&&(i=new r);var s=this.matrix,o=s[0],h=s[1],n=s[2],a=s[3],l=s[4],c=s[5],d=1/(o*a+n*-h);return i.x=a*d*t+-n*d*e+(c*n-l*a)*d,i.y=o*d*e+-h*d*t+(-c*o+l*h)*d,i}getX(t,e){return t*this.a+e*this.c+this.e}getY(t,e){return t*this.b+e*this.d+this.f}getXRound(t,e,i){var s=this.getX(t,e);return i&&(s=Math.round(s)),s}getYRound(t,e,i){var s=this.getY(t,e);return i&&(s=Math.round(s)),s}getCSSMatrix(){var t=this.matrix;return`matrix(${t[0]},${t[1]},${t[2]},${t[3]},${t[4]},${t[5]})`}destroy(){this.matrix=null,this.decomposedMatrix=null}}},406:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0,i(6713);var s=i(3035),r=i(9511),o=i(2029),h=i(5449),n=i(7084);e.Circle=class{constructor(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.type=h.CIRCLE,this.x=t,this.y=e,this._radius=i,this._diameter=2*i}contains(t,e){return s(this,t,e)}getPoint(t,e){return r(this,t,e)}getPoints(t,e,i){return o(this,t,e,i)}getRandomPoint(t){return n(this,t)}setTo(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this}setEmpty(){return this._radius=0,this._diameter=0,this}setPosition(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}isEmpty(){return this._radius<=0}get radius(){return this._radius}set radius(t){this._radius=t,this._diameter=2*t}get diameter(){return this._diameter}set diameter(t){this._diameter=t,this._radius=.5*t}get left(){return this.x-this._radius}set left(t){this.x=t+this._radius}get right(){return this.x+this._radius}set right(t){this.x=t-this._radius}get top(){return this.y-this._radius}set top(t){this.y=t+this._radius}get bottom(){return this.y+this._radius}set bottom(t){this.y=t-this._radius}}},4254:t=>{t.exports=function(t){return Math.PI*t.radius*2}},8163:(t,e,i)=>{var s=i(7066);t.exports=function(t,e,i){return void 0===i&&(i=new s),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i}},3035:t=>{t.exports=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},9511:(t,e,i)=>{var s=i(8163),r=i(576),o=i(4025),h=i(7066);t.exports=function(t,e,i){void 0===i&&(i=new h);var n=r(e,0,o.PI2);return s(t,n,i)}},2029:(t,e,i)=>{var s=i(4254),r=i(8163),o=i(576),h=i(4025);t.exports=function(t,e,i,n){void 0===n&&(n=[]),!e&&i>0&&(e=s(t)/i);for(var a=0;a<e;a++){var l=o(a/e,0,h.PI2);n.push(r(t,l))}return n}},7084:(t,e,i)=>{var s=i(7066);t.exports=function(t,e){void 0===e&&(e=new s);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),o=r>1?2-r:r,h=o*Math.cos(i),n=o*Math.sin(i);return e.x=t.x+h*t.radius,e.y=t.y+n*t.radius,e}},5449:t=>{t.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},777:(t,e,i)=>{var s=i(8083);t.exports=function(t,e){return s(t.x,t.y,e.x,e.y)<=t.radius+e.radius}},6108:t=>{t.exports=function(t,e){var i=e.width/2,s=e.height/2,r=Math.abs(t.x-e.x-i),o=Math.abs(t.y-e.y-s),h=i+t.radius,n=s+t.radius;if(r>h||o>n)return!1;if(r<=i||o<=s)return!0;var a=r-i,l=o-s;return a*a+l*l<=t.radius*t.radius}},7383:(t,e,i)=>{var s=i(7066);t.exports=function(t,e,i){return void 0===i&&(i=new s),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},2977:(t,e,i)=>{var s=i(3096),r=i(7066);t.exports=function(t,e,i,o){void 0===o&&(o=[]),!e&&i>0&&(e=s(t)/i);for(var h=t.x1,n=t.y1,a=t.x2,l=t.y2,c=0;c<e;c++){var d=c/e,u=h+(a-h)*d,y=n+(l-n)*d;o.push(new r(u,y))}return o}},3096:t=>{t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},4835:(t,e,i)=>{var s=i(6713),r=i(7383),o=i(2977),h=i(5449),n=i(2111),a=i(9990),l=new s({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=h.LINE,this.x1=t,this.y1=e,this.x2=i,this.y2=s},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return n(this,t)},setTo:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=s,this},getPointA:function(t){return void 0===t&&(t=new a),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new a),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=l},2111:(t,e,i)=>{var s=i(7066);t.exports=function(t,e){void 0===e&&(e=new s);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},7066:(t,e,i)=>{var s=i(6713),r=i(5449),o=new s({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.type=r.POINT,this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=o},6756:t=>{t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i}},5461:(t,e,i)=>{var s=i(2568),r=i(7066);t.exports=function(t,e,i){if(void 0===i&&(i=new r),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var o=s(t)*e;return e>.5?(o-=t.width+t.height)<=t.width?(i.x=t.right-o,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(o-t.width)):o<=t.width?(i.x=t.x+o,i.y=t.y):(i.x=t.right,i.y=t.y+(o-t.width)),i}},3318:(t,e,i)=>{var s=i(5461),r=i(2568);t.exports=function(t,e,i,o){void 0===o&&(o=[]),!e&&i>0&&(e=r(t)/i);for(var h=0;h<e;h++){var n=h/e;o.push(s(t,n))}return o}},2568:t=>{t.exports=function(t){return 2*(t.width+t.height)}},462:(t,e,i)=>{var s=i(7066);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},302:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;const s=i(6756),r=i(5461),o=i(3318),h=i(5449),n=i(4835),a=i(462);e.Rectangle=class{constructor(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=h.RECTANGLE,this.x=t,this.y=e,this.width=i,this.height=s}contains(t,e){return s(this,t,e)}getPoint(t,e){return r(this,t,e)}getPoints(t,e,i){return o(this,t,e,i)}getRandomPoint(t){return a(this,t)}setTo(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this}setEmpty(){return this.setTo(0,0,0,0)}setPosition(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}setSize(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this}isEmpty(){return this.width<=0||this.height<=0}getLineA(t){return void 0===t&&(t=new n),t.setTo(this.x,this.y,this.right,this.y),t}getLineB(t){return void 0===t&&(t=new n),t.setTo(this.right,this.y,this.right,this.bottom),t}getLineC(t){return void 0===t&&(t=new n),t.setTo(this.right,this.bottom,this.x,this.bottom),t}getLineD(t){return void 0===t&&(t=new n),t.setTo(this.x,this.bottom,this.x,this.y),t}get left(){return this.x}set left(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}get right(){return this.x+this.width}set right(t){t<=this.x?this.width=0:this.width=t-this.x}get top(){return this.y}set top(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}get bottom(){return this.y+this.height}set bottom(t){t<=this.y?this.height=0:this.height=t-this.y}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}}},7132:t=>{t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},2386:(t,e,i)=>{var s=i(4025);t.exports=function(t){return t*s.DEG_TO_RAD}},576:(t,e,i)=>{var s=i(7132);t.exports=function(t,e,i){return(i-e)*(t=s(t,0,1))+e}},9990:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Vector2=void 0;const s=i(7996);class r{constructor(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)}clone(){return new r(this.x,this.y)}copy(t){return this.x=t.x||0,this.y=t.y||0,this}setFromObject(t){return this.x=t.x||0,this.y=t.y||0,this}set(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}setTo(t,e){return this.set(t,e)}setToPolar(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this}equals(t){return this.x===t.x&&this.y===t.y}fuzzyEquals(t,e){return s(this.x,t.x,e)&&s(this.y,t.y,e)}angle(){let t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t}setAngle(t){return this.setToPolar(t,this.length())}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}scale(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this}divide(t){return this.x/=t.x,this.y/=t.y,this}negate(){return this.x=-this.x,this.y=-this.y,this}distance(t){const e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)}distanceSq(t){const e=t.x-this.x,i=t.y-this.y;return e*e+i*i}length(){const t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}setLength(t){return this.normalize().scale(t)}lengthSq(){const t=this.x,e=this.y;return t*t+e*e}normalize(){const t=this.x,e=this.y;let i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this}normalizeRightHand(){const t=this.x;return this.x=-1*this.y,this.y=t,this}normalizeLeftHand(){const t=this.x;return this.x=this.y,this.y=-1*t,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lerp(t,e){void 0===e&&(e=0);const i=this.x,s=this.y;return this.x=i+e*(t.x-i),this.y=s+e*(t.y-s),this}transformMat3(t){const e=this.x,i=this.y,s=t.val;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}transformMat4(t){const e=this.x,i=this.y,s=t.val;return this.x=s[0]*e+s[4]*i+s[12],this.y=s[1]*e+s[5]*i+s[13],this}reset(){return this.x=0,this.y=0,this}limit(t){const e=this.length();return e&&e>t&&this.scale(t/e),this}reflect(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))}mirror(t){return this.reflect(t).negate()}rotate(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)}}e.Vector2=r,r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1)},1716:t=>{t.exports=function(t,e,i){var s=i-e;return e+((t-e)%s+s)%s}},4625:t=>{t.exports=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}},4025:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.PI2=2*Math.PI]="PI2",t[t.TAU=.5*Math.PI]="TAU",t[t.EPSILON=1e-6]="EPSILON",t[t.DEG_TO_RAD=Math.PI/180]="DEG_TO_RAD",t[t.RAD_TO_DEG=180/Math.PI]="RAD_TO_DEG",t[t.MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991]="MIN_SAFE_INTEGER",t[t.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991]="MAX_SAFE_INTEGER"}(i||(i={})),e.default=i},8083:t=>{t.exports=function(t,e,i,s){var r=t-i,o=e-s;return Math.sqrt(r*r+o*o)}},2236:t=>{t.exports=function(t,e,i,s){var r=t-i,o=e-s;return r*r+o*o}},7996:t=>{t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},9252:t=>{t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i}},2221:t=>{t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i}},2062:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ArcadePhysics=void 0;const r=s(i(2386)),o=s(i(8083)),h=s(i(2236)),n=i(7468),a=s(i(1233)),l=s(i(4153)),c=i(9990),d=i(7408);e.ArcadePhysics=class{constructor(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.boot()}boot(){this.world||(this.world=new d.World(this.scene,this.config)),this.add||(this.add=new n.Factory(this.world))}start(){this.world||(this.world=new d.World(this.scene,this.config),this.add=new n.Factory(this.world)),this.systems.events}enableUpdate(){}disableUpdate(){}getConfig(){const t=this.systems.game.config.physics||{},e=this.systems.settings.physics||{};return Object.assign(Object.assign({},t),e)}overlap(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.world.collideObjects(t,e,i,s,r,!0)}collide(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.world.collideObjects(t,e,i,s,r,!1)}pause(){return this.world.pause()}resume(){return this.world.resume()}accelerateTo(t,e,i,s,r,o){void 0===s&&(s=60);const h=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(h,s),void 0!==r&&void 0!==o&&t.body.maxVelocity.set(r,o),h}accelerateToObject(t,e,i,s,r){return this.accelerateTo(t,e.x,e.y,i,s,r)}closest(t,e=this.world.bodies){let i=Number.MAX_VALUE,s=null;const r=t.x,o=t.y;e.size;for(const n of e){const e=n.body||n;if(t===n||t===e||t===e.gameObject||t===e.center)continue;const a=(0,h.default)(r,o,e.center.x,e.center.y);a<i&&(s=n,i=a)}return s}furthest(t,e=this.world.bodies){let i=-1,s=null;const r=t.x,o=t.y;e.size;for(const n of e){const e=n.body||n;if(t===n||t===e||t===e.gameObject||t===e.center)continue;const a=(0,h.default)(r,o,e.center.x,e.center.y);a>i&&(s=n,i=a)}return s}moveTo(t,e,i,s,r){void 0===s&&(s=60),void 0===r&&(r=0);const h=Math.atan2(i-t.y,e-t.x);return r>0&&(s=(0,o.default)(t.x,t.y,e,i)/(r/1e3)),t.body.velocity.setToPolar(h,s),h}moveToObject(t,e,i,s){return this.moveTo(t,e.x,e.y,i,s)}velocityFromAngle(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new c.Vector2),i.setToPolar((0,r.default)(t),e)}velocityFromRotation(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new c.Vector2),i.setToPolar(t,e)}overlapRect(t,e,i,s,r,o){return(0,l.default)(this.world,t,e,i,s,r,o)}overlapCirc(t,e,i,s,r){return(0,a.default)(this.world,t,e,i,s,r)}shutdown(){this.world&&(this.systems.events,this.add.destroy(),this.world.destroy(),this.add=null,this.world=null)}destroy(){this.shutdown(),this.scene=null,this.systems=null}}},6751:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Body=void 0;const r=s(i(9915)),o=s(i(9940)),h=i(302),n=s(i(6756)),a=i(9990),l=i(4007);e.Body=class{constructor(t,e,i,s=64,o=64){this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a.Vector2,this.allowRotation=!0,this.velocity=new a.Vector2,this.newVelocity=new a.Vector2,this.deltaMax=new a.Vector2,this.acceleration=new a.Vector2,this.allowDrag=!0,this.drag=new a.Vector2,this.allowGravity=!0,this.gravity=new a.Vector2,this.bounce=new a.Vector2,this.worldBounce=null,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a.Vector2(1e4,1e4),this.maxSpeed=-1,this.friction=new a.Vector2(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=r.default.FACING.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=r.default.PHYSICS_TYPE.DYNAMIC_BODY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h.Rectangle,this.isBody=!0;const n=new l.Object2D(t.scene,e,i,s,o);this.world=t,this.gameObject=n,this.transform={x:n.x,y:n.y,rotation:n.angle,scaleX:n.scaleX,scaleY:n.scaleY,displayOriginX:n.displayOriginX,displayOriginY:n.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.position=new a.Vector2(n.x-n.scaleX*n.displayOriginX,n.y-n.scaleY*n.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.rotation=n.angle,this.preRotation=n.angle,this.width=s,this.height=o,this.sourceWidth=s,this.sourceHeight=o,this.halfWidth=Math.abs(s/2),this.halfHeight=Math.abs(o/2),this.center=new a.Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.customBoundsRectangle=t.bounds,this._sx=n.scaleX,this._sy=n.scaleY}updateBounds(){const t=this.gameObject,e=this.transform;e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY;let i=!1;const s=Math.abs(e.scaleX),r=Math.abs(e.scaleY);this._sx===s&&this._sy===r||(this.width=this.sourceWidth*s,this.height=this.sourceHeight*r,this._sx=s,this._sy=r,i=!0),i&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())}updateCenter(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)}updateFromGameObject(){this.updateBounds();const t=this.transform;this.position.x=t.x+t.scaleX*(this.offset.x-t.displayOriginX),this.position.y=t.y+t.scaleY*(this.offset.y-t.displayOriginY),this.updateCenter()}resetFlags(t=!1){const e=this.wasTouching,i=this.touching,s=this.blocked;t?(e.none=!0,e.up=!1,e.down=!1,e.left=!1,e.right=!1):(e.none=i.none,e.up=i.up,e.down=i.down,e.left=i.left,e.right=i.right),i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,s.none=!0,s.up=!1,s.down=!1,s.left=!1,s.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1}preUpdate(t,e){t&&this.resetFlags(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),t&&this.update(e)}update(t){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,t);const e=this.velocity.x,i=this.velocity.y;this.newVelocity.set(e*t,i*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,e),this.speed=Math.sqrt(e*e+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.default.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y}postUpdate(){let t=this.position.x-this.prevFrame.x,e=this.position.y-this.prevFrame.y;if(this.moves){const i=this.deltaMax.x,s=this.deltaMax.y;0!==i&&0!==t&&(t<0&&t<-i?t=-i:t>0&&t>i&&(t=i)),0!==s&&0!==e&&(e<0&&e<-s?e=-s:e>0&&e>s&&(e=s)),this.gameObject.x+=t,this.gameObject.y+=e}t<0?this.facing=r.default.FACING.FACING_LEFT:t>0&&(this.facing=r.default.FACING.FACING_RIGHT),e<0?this.facing=r.default.FACING.FACING_UP:e>0&&(this.facing=r.default.FACING.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=t,this._ty=e}setBoundsRectangle(t){return this.customBoundsRectangle=t||this.world.bounds,this}checkWorldBounds(){const t=this.position,e=this.customBoundsRectangle,i=this.world.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,r=this.worldBounce?-this.worldBounce.y:-this.bounce.y;let o=!1;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=s,this.blocked.left=!0,o=!0):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=s,this.blocked.right=!0,o=!0),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=r,this.blocked.up=!0,o=!0):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=r,this.blocked.down=!0,o=!0),o&&(this.blocked.none=!1,this.updateCenter()),o}setOffset(t,e){return void 0===e&&(e=t),this.offset.set(t,e),this}setSize(t,e,i=!0){void 0===i&&(i=!0);const s=this.gameObject;if(this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&s.getCenter){const i=(s.width-t)/2,r=(s.height-e)/2;this.offset.set(i,r)}return this.isCircle=!1,this.radius=0,this}setCircle(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this}reset(t,e){this.stop();const i=this.gameObject;i.setPosition(t,e),i.getTopLeft?i.getTopLeft(this.position):this.position.set(t,e),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)}stop(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this}getBounds(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t}hitTest(t,e){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-e)*(this.center.y-e)<=this.radius*this.radius:(0,n.default)(this,t,e)}onFloor(){return this.blocked.down}onCeiling(){return this.blocked.up}onWall(){return this.blocked.left||this.blocked.right}deltaAbsX(){return this._dx>0?this._dx:-this._dx}deltaAbsY(){return this._dy>0?this._dy:-this._dy}deltaX(){return this._dx}deltaY(){return this._dy}deltaXFinal(){return this._tx}deltaYFinal(){return this._ty}deltaZ(){return this.rotation-this.preRotation}destroy(){this.enable=!1,this.world&&this.world.pendingDestroy.add(this)}drawDebug(t){var e,i;const s=this.position,r=s.x+this.halfWidth,o=s.y+this.halfHeight,h=(e,i,s,r)=>{t.moveTo(e,i),t.lineTo(s,r)},n=(e,i,s)=>{t.lineWidth=e,t.strokeStyle=(t=>{let e=(255&(t>>>=0)).toString(16),i=((65280&t)>>>8).toString(16),s=((16711680&t)>>>16).toString(16);return"0"===e&&(e="00"),"0"===i&&(i="00"),"0"===s&&(s="00"),`#${e}${i}${s}`})(i)};this.debugShowBody&&(t.beginPath(),n(1,this.debugBodyColor),this.isCircle?((e,i,s)=>{t.arc(e,i,s,0,2*Math.PI)})(r,o,this.width/2):(this.checkCollision.up&&h(s.x,s.y,s.x+this.width,s.y),this.checkCollision.right&&h(s.x+this.width,s.y,s.x+this.width,s.y+this.height),this.checkCollision.down&&h(s.x,s.y+this.height,s.x+this.width,s.y+this.height),this.checkCollision.left&&h(s.x,s.y,s.x,s.y+this.height)),t.stroke()),this.debugShowVelocity&&(t.beginPath(),n(1,(null===(i=null===(e=this.world)||void 0===e?void 0:e.defaults)||void 0===i?void 0:i.velocityDebugColor)||65280),h(r,o,r+this.velocity.x/2,o+this.velocity.y/2),t.stroke())}willDrawDebug(){return this.debugShowBody||this.debugShowVelocity}setCollideWorldBounds(t,e,i,s){void 0===t&&(t=!0),this.collideWorldBounds=t;const r=void 0!==e,o=void 0!==i;return(r||o)&&(this.worldBounce||(this.worldBounce=new a.Vector2),r&&(this.worldBounce.x=e),o&&(this.worldBounce.y=i)),void 0!==s&&(this.onWorldBounds=s),this}setVelocity(t,e){return this.velocity.set(t,e),t=this.velocity.x,e=this.velocity.y,this.speed=Math.sqrt(t*t+e*e),this}setVelocityX(t){this.velocity.x=t;const e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this}setVelocityY(t){this.velocity.y=t;const e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this}setMaxVelocity(t,e){return this.maxVelocity.set(t,e),this}setMaxVelocityX(t){return this.maxVelocity.x=t,this}setMaxVelocityY(t){return this.maxVelocity.y=t,this}setMaxSpeed(t){return this.maxSpeed=t,this}setBounce(t,e){return this.bounce.set(t,e),this}setBounceX(t){return this.bounce.x=t,this}setBounceY(t){return this.bounce.y=t,this}setAcceleration(t,e){return this.acceleration.set(t,e),this}setAccelerationX(t){return this.acceleration.x=t,this}setAccelerationY(t){return this.acceleration.y=t,this}setAllowDrag(t){return void 0===t&&(t=!0),this.allowDrag=t,this}setAllowGravity(t){return void 0===t&&(t=!0),this.allowGravity=t,this}setAllowRotation(t){return void 0===t&&(t=!0),this.allowRotation=t,this}setDrag(t,e){return this.drag.set(t,e),this}setDamping(t){return this.useDamping=t,this}setDragX(t){return this.drag.x=t,this}setDragY(t){return this.drag.y=t,this}setGravity(t,e){return this.gravity.set(t,e),this}setGravityX(t){return this.gravity.x=t,this}setGravityY(t){return this.gravity.y=t,this}setFriction(t,e){return this.friction.set(t,e),this}setFrictionX(t){return this.friction.x=t,this}setFrictionY(t){return this.friction.y=t,this}setAngularVelocity(t){return this.angularVelocity=t,this}setAngularAcceleration(t){return this.angularAcceleration=t,this}setAngularDrag(t){return this.angularDrag=t,this}setMass(t){return this.mass=t,this}setImmovable(t){return void 0===t&&(t=!0),this.immovable=t,this}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}processX(t,e,i,s){this.x+=t,this.updateCenter(),null!==e&&(this.velocity.x=e);const r=this.blocked;i&&(r.left=!0),s&&(r.right=!0)}processY(t,e,i,s){this.y+=t,this.updateCenter(),null!==e&&(this.velocity.y=e);const r=this.blocked;i&&(r.up=!0),s&&(r.down=!0)}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get left(){return this.position.x}get right(){return this.position.x+this.width}get top(){return this.position.y}get bottom(){return this.position.y+this.height}}},333:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Collider=void 0,e.Collider=class{constructor(t,e,i,s,r,o,h){this.world=t,this.overlapOnly=e,this.body1=i,this.body2=s,this.collideCallback=r,this.processCallback=o,this.callbackContext=h,this.name="",this.active=!0}setName(t){return this.name=t,this}update(){this.world.collideObjects(this.body1,this.body2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)}destroy(){this.world.removeCollider(this),this.active=!1,this.world=null,this.body1=null,this.body2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}}},7468:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const s=i(6751),r=i(4432);e.Factory=class{constructor(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys}body(t,e,i=64,r=64){const o=new s.Body(this.world,t,e,i,r);return this.world.add(o),o}staticBody(t,e,i=64,s=64){const o=new r.StaticBody(this.world,t,e,i,s);return this.world.add(o),o}collider(t,e,i,s,r){return this.world.addCollider(t,e,i,s,r)}overlap(t,e,i,s,r){return this.world.addOverlap(t,e,i,s,r)}destroy(){this.world=null,this.scene=null,this.sys=null}}},2611:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GetOverlapX=void 0;const r=s(i(9915));e.GetOverlapX=(t,e,i,s)=>{let o=0;const h=t.deltaAbsX()+e.deltaAbsX()+s;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(o=t.right-e.x,o>h&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?o=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0))):t._dx<e._dx&&(o=t.x-e.width-e.x,-o>h&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?o=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=o,e.overlapX=o,o}},6154:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GetOverlapY=void 0;const r=s(i(9915));e.GetOverlapY=(t,e,i,s)=>{let o=0;const h=t.deltaAbsY()+e.deltaAbsY()+s;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(o=t.bottom-e.y,o>h&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?o=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0))):t._dy<e._dy&&(o=t.y-e.bottom,-o>h&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?o=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0),t.physicsType!==r.default.PHYSICS_TYPE.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=o,e.overlapY=o,o}},4007:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Object2D=void 0;const s=i(7167);class r extends s.GameObject{constructor(t,e,i,s=64,r=64){super(t,"Object2D"),this.frame=!1,this.getTopLeft=t=>{},this.getCenter=!1,this.on=t=>{},"object"!=typeof t&&console.log('ERROR: The first param of "Object2D" should be the "scene"'),this.x=e,this.y=i,this.angle=0,this.scaleX=1,this.scaleY=1,this.displayOriginX=0,this.displayOriginY=0,this.originX=0,this.originY=0,this.active=!0,this.width=s,this.height=r,this.displayWidth=s,this.displayHeight=r}setPosition(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this}setVisible(t){return this.visible=t,this}}e.Object2D=r},453:(t,e)=>{let i,s,r,o,h,n,a,l,c,d,u,y,p,f,v,x,m;Object.defineProperty(e,"__esModule",{value:!0}),e.RunImmovableBody2=e.RunImmovableBody1=e.Run=e.Check=e.BlockCheck=e.Set=void 0,e.Set=(t,h,n)=>{i=t,s=h;const g=i.velocity.x,b=s.velocity.x;return r=i.pushable,c=i._dx<0,d=i._dx>0,u=0===i._dx,v=Math.abs(i.right-s.x)<=Math.abs(s.right-i.x),a=b-g*i.bounce.x,o=s.pushable,y=s._dx<0,p=s._dx>0,f=0===s._dx,x=!v,l=g-b*s.bounce.x,m=Math.abs(n),(0,e.BlockCheck)()},e.BlockCheck=()=>d&&v&&s.blocked.right?(i.processX(-m,a,!1,!0),1):c&&x&&s.blocked.left?(i.processX(m,a,!0),1):p&&x&&i.blocked.right?(s.processX(-m,l,!1,!0),2):y&&v&&i.blocked.left?(s.processX(m,l,!0),2):0,e.Check=()=>{const t=i.velocity.x,r=s.velocity.x;let o=Math.sqrt(r*r*s.mass/i.mass)*(r>0?1:-1),a=Math.sqrt(t*t*i.mass/s.mass)*(t>0?1:-1);const l=.5*(o+a);return o-=l,a-=l,h=l+o*i.bounce.x,n=l+a*s.bounce.x,c&&x?(0,e.Run)(0):y&&v?(0,e.Run)(1):d&&v?(0,e.Run)(2):!(!p||!x)&&(0,e.Run)(3)},e.Run=t=>{if(r&&o)m*=.5,0===t||3===t?(i.processX(m,h),s.processX(-m,n)):(i.processX(-m,h),s.processX(m,n));else if(r&&!o)0===t||3===t?i.processX(m,a,!0):i.processX(-m,a,!1,!0);else if(!r&&o)0===t||3===t?s.processX(-m,l,!1,!0):s.processX(m,l,!0);else{const e=.5*m;0===t?f?(i.processX(m,0,!0),s.processX(0,null,!1,!0)):p?(i.processX(e,0,!0),s.processX(-e,0,!1,!0)):(i.processX(e,s.velocity.x,!0),s.processX(-e,null,!1,!0)):1===t?u?(i.processX(0,null,!1,!0),s.processX(m,0,!0)):d?(i.processX(-e,0,!1,!0),s.processX(e,0,!0)):(i.processX(-e,null,!1,!0),s.processX(e,i.velocity.x,!0)):2===t?f?(i.processX(-m,0,!1,!0),s.processX(0,null,!0)):y?(i.processX(-e,0,!1,!0),s.processX(e,0,!0)):(i.processX(-e,s.velocity.x,!1,!0),s.processX(e,null,!0)):3===t&&(u?(i.processX(0,null,!0),s.processX(-m,0,!1,!0)):c?(i.processX(e,0,!0),s.processX(-e,0,!1,!0)):(i.processX(e,s.velocity.y,!0),s.processX(-e,null,!1,!0)))}return!0},e.RunImmovableBody1=t=>{1===t?s.velocity.x=0:v?s.processX(m,l,!0):s.processX(-m,l,!1,!0),i.moves&&(s.y+=(i.y-i.prev.y)*i.friction.y,s._dy=s.y-s.prev.y)},e.RunImmovableBody2=t=>{2===t?i.velocity.x=0:x?i.processX(m,a,!0):i.processX(-m,a,!1,!0),s.moves&&(i.y+=(s.y-s.prev.y)*s.friction.y,i._dy=i.y-i.prev.y)}},6907:(t,e)=>{let i,s,r,o,h,n,a,l,c,d,u,y,p,f,v,x,m;Object.defineProperty(e,"__esModule",{value:!0}),e.RunImmovableBody2=e.RunImmovableBody1=e.Run=e.Check=e.BlockCheck=e.Set=void 0,e.Set=(t,h,n)=>{i=t,s=h;const g=i.velocity.y,b=s.velocity.y;return r=i.pushable,c=i._dy<0,d=i._dy>0,u=0===i._dy,v=Math.abs(i.bottom-s.y)<=Math.abs(s.bottom-i.y),a=b-g*i.bounce.y,o=s.pushable,y=s._dy<0,p=s._dy>0,f=0===s._dy,x=!v,l=g-b*s.bounce.y,m=Math.abs(n),(0,e.BlockCheck)()},e.BlockCheck=()=>d&&v&&s.blocked.down?(i.processY(-m,a,!1,!0),1):c&&x&&s.blocked.up?(i.processY(m,a,!0),1):p&&x&&i.blocked.down?(s.processY(-m,l,!1,!0),2):y&&v&&i.blocked.up?(s.processY(m,l,!0),2):0,e.Check=()=>{const t=i.velocity.y,r=s.velocity.y;let o=Math.sqrt(r*r*s.mass/i.mass)*(r>0?1:-1),a=Math.sqrt(t*t*i.mass/s.mass)*(t>0?1:-1);const l=.5*(o+a);return o-=l,a-=l,h=l+o*i.bounce.y,n=l+a*s.bounce.y,c&&x?(0,e.Run)(0):y&&v?(0,e.Run)(1):d&&v?(0,e.Run)(2):!(!p||!x)&&(0,e.Run)(3)},e.Run=t=>{if(r&&o)m*=.5,0===t||3===t?(i.processY(m,h),s.processY(-m,n)):(i.processY(-m,h),s.processY(m,n));else if(r&&!o)0===t||3===t?i.processY(m,a,!0):i.processY(-m,a,!1,!0);else if(!r&&o)0===t||3===t?s.processY(-m,l,!1,!0):s.processY(m,l,!0);else{const e=.5*m;0===t?f?(i.processY(m,0,!0),s.processY(0,null,!1,!0)):p?(i.processY(e,0,!0),s.processY(-e,0,!1,!0)):(i.processY(e,s.velocity.y,!0),s.processY(-e,null,!1,!0)):1===t?u?(i.processY(0,null,!1,!0),s.processY(m,0,!0)):d?(i.processY(-e,0,!1,!0),s.processY(e,0,!0)):(i.processY(-e,null,!1,!0),s.processY(e,i.velocity.y,!0)):2===t?f?(i.processY(-m,0,!1,!0),s.processY(0,null,!0)):y?(i.processY(-e,0,!1,!0),s.processY(e,0,!0)):(i.processY(-e,s.velocity.y,!1,!0),s.processY(e,null,!0)):3===t&&(u?(i.processY(0,null,!0),s.processY(-m,0,!1,!0)):c?(i.processY(e,0,!0),s.processY(-e,0,!1,!0)):(i.processY(e,s.velocity.y,!0),s.processY(-e,null,!1,!0)))}return!0},e.RunImmovableBody1=t=>{1===t?s.velocity.y=0:v?s.processY(m,l,!0):s.processY(-m,l,!1,!0),i.moves&&(s.x+=(i.x-i.prev.x)*i.friction.x,s._dx=s.x-s.prev.x)},e.RunImmovableBody2=t=>{2===t?i.velocity.y=0:x?i.processY(m,a,!0):i.processY(-m,a,!1,!0),s.moves&&(i.x+=(s.x-s.prev.x)*s.friction.x,i._dx=i.x-i.prev.x)}},8735:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,r)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeparateX=void 0;const h=i(2611),n=o(i(453));e.SeparateX=(t,e,i,s)=>{const r=(0,h.GetOverlapX)(t,e,i,s),o=t.immovable,a=e.immovable;if(i||0===r||o&&a||t.customSeparateX||e.customSeparateX)return 0!==r||t.embedded&&e.embedded;const l=n.Set(t,e,r);return o||a?(o?n.RunImmovableBody1(l):a&&n.RunImmovableBody2(l),!0):l>0||n.Check()}},2212:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,r)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeparateY=void 0;const h=i(6154),n=o(i(6907));e.SeparateY=(t,e,i,s)=>{const r=(0,h.GetOverlapY)(t,e,i,s),o=t.immovable,a=e.immovable;if(i||0===r||o&&a||t.customSeparateY||e.customSeparateY)return 0!==r||t.embedded&&e.embedded;const l=n.Set(t,e,r);return o||a?(o?n.RunImmovableBody1(l):a&&n.RunImmovableBody2(l),!0):l>0||n.Check()}},4432:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StaticBody=void 0;const r=s(i(3035)),o=s(i(6756)),h=s(i(9915)),n=i(9990),a=i(4007);e.StaticBody=class{constructor(t,e,i,s=64,r=64){this.world=t,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n.Vector2,this.isBody=!0;const o=new a.Object2D(t.scene,e,i,s,r);this.gameObject=o,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.position=new n.Vector2(o.x-s*o.originX,o.y-r*o.originY),this.width=s,this.height=r,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n.Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.Vector2.ZERO,this.allowGravity=!1,this.gravity=n.Vector2.ZERO,this.bounce=n.Vector2.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=h.default.PHYSICS_TYPE.STATIC_BODY,this._dx=0,this._dy=0}setGameObject(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this}preUpdate(){}update(){}updateFromGameObject(){this.world.staticTree.remove(this);const t=this.gameObject;return this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this}setOffset(t,e){return void 0===e&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this}setSize(t,e,i){return void 0===i&&(i=!0),this.gameObject,this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this}setCircle(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this}updateCenter(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)}reset(t,e){const i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),this.updateCenter(),this.world.staticTree.insert(this)}stop(){return this}getBounds(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t}hitTest(t,e){return this.isCircle?(0,r.default)(this,t,e):(0,o.default)(this,t,e)}postUpdate(){}deltaAbsX(){return 0}deltaAbsY(){return 0}deltaX(){return 0}deltaY(){return 0}deltaZ(){return 0}destroy(){this.enable=!1,this.world.pendingDestroy.add(this)}drawDebug(t){const e=this.position,i=e.x+this.halfWidth,s=e.y+this.halfHeight;var r;this.debugShowBody&&(t.beginPath(),1,r=this.debugBodyColor||255,t.lineWidth=1,t.strokeStyle=(t=>{let e=(255&(t>>>=0)).toString(16),i=((65280&t)>>>8).toString(16),s=((16711680&t)>>>16).toString(16);return"0"===e&&(e="00"),"0"===i&&(i="00"),"0"===s&&(s="00"),`#${e}${i}${s}`})(r),this.isCircle?((e,i,s)=>{t.arc(e,i,s,0,2*Math.PI)})(i,s,this.width/2):((e,i,s,r)=>{t.rect(e,i,s,r)})(e.x,e.y,this.width,this.height),t.stroke())}willDrawDebug(){return this.debugShowBody}setMass(t){return t<=0&&(t=.1),this.mass=t,this}get x(){return this.position.x}set x(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}get y(){return this.position.y}set y(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}get left(){return this.position.x}get right(){return this.position.x+this.width}get top(){return this.position.y}get bottom(){return this.position.y+this.height}}},7408:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.World=void 0;const r=s(i(4625)),o=s(i(7132)),h=s(i(8083)),n=s(i(6729)),a=s(i(9940)),l=s(i(7996)),c=s(i(9252)),d=s(i(2221)),u=i(2611),y=i(6154),p=s(i(5066)),f=s(i(2632)),v=i(302),x=i(8735),m=i(2212),g=i(8319),b=s(i(1716)),_=s(i(9915)),w=s(i(4025)),M=i(333),C=i(7985),O=i(9990);class Y extends n.default{constructor(t,e){super(),this.scene=t,this.config=e,this.bodies=new Set,this.staticBodies=new Set,this.pendingDestroy=new Set,this._elapsed=0,this.colliders=new C.ProcessQueue,this.gravity=new O.Vector2((0,p.default)(e,"gravity.x",0),(0,p.default)(e,"gravity.y",0)),this.bounds=new v.Rectangle((0,p.default)(e,"x",0),(0,p.default)(e,"y",0),(0,p.default)(e,"width",t.sys.scale.width),(0,p.default)(e,"height",t.sys.scale.height)),this.checkCollision={up:(0,p.default)(e,"checkCollision.up",!0),down:(0,p.default)(e,"checkCollision.down",!0),left:(0,p.default)(e,"checkCollision.left",!0),right:(0,p.default)(e,"checkCollision.right",!0)},this.fps=(0,p.default)(e,"fps",60),this.fixedStep=(0,p.default)(e,"fixedStep",!0),this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=(0,p.default)(e,"timeScale",1),this.OVERLAP_BIAS=(0,p.default)(e,"overlapBias",4),this.TILE_BIAS=(0,p.default)(e,"tileBias",16),this.forceX=(0,p.default)(e,"forceX",!1),this.isPaused=(0,p.default)(e,"isPaused",!1),this._total=0,this.drawDebug=(0,p.default)(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:(0,p.default)(e,"debugShowBody",!0),debugShowStaticBody:(0,p.default)(e,"debugShowStaticBody",!0),debugShowVelocity:(0,p.default)(e,"debugShowVelocity",!0),bodyDebugColor:(0,p.default)(e,"debugBodyColor",16711935),staticBodyDebugColor:(0,p.default)(e,"debugStaticBodyColor",255),velocityDebugColor:(0,p.default)(e,"debugVelocityColor",65280)},this.maxEntries=(0,p.default)(e,"maxEntries",16),this.useTree=(0,p.default)(e,"useTree",!0),this.tree=new f.default(this.maxEntries),this.staticTree=new f.default(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new g.TransformMatrix,this._tempMatrix2=new g.TransformMatrix,this.drawDebug&&this.createDebugGraphic()}add(t){return t.physicsType===_.default.PHYSICS_TYPE.DYNAMIC_BODY?this.bodies.add(t):t.physicsType===_.default.PHYSICS_TYPE.STATIC_BODY&&(this.staticBodies.add(t),this.staticTree.insert(t)),t.enable=!0,t}disable(t){Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){const i=t[e];if(i.isParent){const t=i.getChildren();for(let e=0;e<t.length;e++){const i=t[e];i.isParent?this.disable(i):this.disableBody(i.body)}}else this.disableBody(i.body)}}disableBody(t){this.remove(t),t.enable=!1}remove(t){t.physicsType===_.default.PHYSICS_TYPE.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===_.default.PHYSICS_TYPE.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))}createDebugGraphic(){}setBounds(t,e,i,s,r,o,h,n){return this.bounds.setTo(t,e,i,s),void 0!==r&&this.setBoundsCollision(r,o,h,n),this}setBoundsCollision(t,e,i,s){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===s&&(s=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=s,this}pause(){return this.isPaused=!0,this.emit(a.default.PAUSE),this}resume(){return this.isPaused=!1,this.emit(a.default.RESUME),this}addCollider(t,e,i,s,r){void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i);const o=new M.Collider(this,!1,t,e,i,s,r);return this.colliders.add(o),o}addOverlap(t,e,i,s,r){void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i);const o=new M.Collider(this,!0,t,e,i,s,r);return this.colliders.add(o),o}removeCollider(t){return this.colliders.remove(t),this}setFPS(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this}update(t,e){if(this.isPaused||0===this.bodies.size)return;let i,s=this._frameTime;const r=this._frameTimeMS*this.timeScale;this._elapsed+=e;const o=this.bodies;let h=this._elapsed>=r;this.fixedStep||(s=.001*e,h=!0,this._elapsed=0);for(const t of o)t.enable&&t.preUpdate(h,s);if(h){this._elapsed-=r,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(o));const t=this.colliders.update();for(i=0;i<t.length;i++){const e=t[i];e.active&&e.update()}this.emit(a.default.WORLD_STEP,s)}for(;this._elapsed>=r;)this._elapsed-=r,this.step(s)}step(t){let e;const i=this.bodies;i.size;for(const e of i)e.enable&&e.update(t);this.useTree&&(this.tree.clear(),this.tree.load(i));const s=this.colliders.update();for(e=0;e<s.length;e++){const t=s[e];t.active&&t.update()}this.emit(a.default.WORLD_STEP,t),this.stepsLastFrame++}postUpdate(){let t,e=this.bodies;const i=this.bodies,s=this.staticBodies;if(this.stepsLastFrame){this.stepsLastFrame=0;for(const t of e)t.enable&&t.postUpdate()}if(this.drawDebug){const i=this.debugGraphic;i.clear();for(const t of e)t.willDrawDebug()&&t.drawDebug(i);e=s,t=e.size;for(const t of e)t.willDrawDebug()&&t.drawDebug(i)}const r=this.pendingDestroy;if(r.size>0){const o=this.tree,h=this.staticTree;e=r,t=e.size;for(const t of e)t.physicsType===_.default.PHYSICS_TYPE.DYNAMIC_BODY?(o.remove(t),i.delete(t)):t.physicsType===_.default.PHYSICS_TYPE.STATIC_BODY&&(h.remove(t),s.delete(t)),t.world=void 0,t.gameObject=void 0;r.clear()}}updateMotion(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)}computeAngularVelocity(t,e){let i=t.angularVelocity;const s=t.angularAcceleration;let r=t.angularDrag;const h=t.maxAngular;s?i+=s*e:t.allowDrag&&r&&(r*=e,(0,c.default)(i-r,0,.1)?i-=r:(0,d.default)(i+r,0,.1)?i+=r:i=0),i=(0,o.default)(i,-h,h);const n=i-t.angularVelocity;t.angularVelocity+=n,t.rotation+=t.angularVelocity*e}computeVelocity(t,e){let i=t.velocity.x;const s=t.acceleration.x;let r=t.drag.x;const h=t.maxVelocity.x;let n=t.velocity.y;const a=t.acceleration.y;let u=t.drag.y;const y=t.maxVelocity.y;let p=t.speed;const f=t.maxSpeed,v=t.allowDrag,x=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,n+=(this.gravity.y+t.gravity.y)*e),s?i+=s*e:v&&r&&(x?(r=Math.pow(r,e),i*=r,p=Math.sqrt(i*i+n*n),(0,l.default)(p,0,.001)&&(i=0)):(r*=e,(0,c.default)(i-r,0,.01)?i-=r:(0,d.default)(i+r,0,.01)?i+=r:i=0)),a?n+=a*e:v&&u&&(x?(u=Math.pow(u,e),n*=u,p=Math.sqrt(i*i+n*n),(0,l.default)(p,0,.001)&&(n=0)):(u*=e,(0,c.default)(n-u,0,.01)?n-=u:(0,d.default)(n+u,0,.01)?n+=u:n=0)),i=(0,o.default)(i,-h,h),n=(0,o.default)(n,-y,y),t.velocity.set(i,n),f>-1&&p>f&&(t.velocity.normalize().scale(f),p=f),t.speed=p}separate(t,e,i,s,r,o){if(!o&&!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(s,t.gameObject,e.gameObject))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,r);if(t.isCircle!==e.isCircle){const i=t.isCircle?e:t,s=t.isCircle?t:e,o={x:i.x,y:i.y,right:i.right,bottom:i.bottom},h=s.center;if((h.y<o.y||h.y>o.bottom)&&(h.x<o.x||h.x>o.right))return this.separateCircle(t,e,r)}let h=!1,n=!1;r?(h=(0,x.SeparateX)(t,e,r,this.OVERLAP_BIAS),n=(0,m.SeparateY)(t,e,r,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(h=(0,x.SeparateX)(t,e,r,this.OVERLAP_BIAS),this.intersects(t,e)&&(n=(0,m.SeparateY)(t,e,r,this.OVERLAP_BIAS))):(n=(0,m.SeparateY)(t,e,r,this.OVERLAP_BIAS),this.intersects(t,e)&&(h=(0,x.SeparateX)(t,e,r,this.OVERLAP_BIAS)));const l=h||n;return l&&(r?(t.onOverlap||e.onOverlap)&&this.emit(a.default.OVERLAP,t.gameObject,e.gameObject,t,e):(t.onCollide||e.onCollide)&&this.emit(a.default.COLLIDE,t.gameObject,e.gameObject,t,e)),l}separateCircle(t,e,i,s){(0,u.GetOverlapX)(t,e,!1,s),(0,y.GetOverlapY)(t,e,!1,s);let o=0;if(t.isCircle!==e.isCircle){const i={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},s={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};s.y<i.y?s.x<i.x?o=(0,h.default)(s.x,s.y,i.x,i.y)-s.radius:s.x>i.right&&(o=(0,h.default)(s.x,s.y,i.right,i.y)-s.radius):s.y>i.bottom&&(s.x<i.x?o=(0,h.default)(s.x,s.y,i.x,i.bottom)-s.radius:s.x>i.right&&(o=(0,h.default)(s.x,s.y,i.right,i.bottom)-s.radius)),o*=-1}else o=t.halfWidth+e.halfWidth-(0,h.default)(t.center.x,t.center.y,e.center.x,e.center.y);if(t.overlapR=o,e.overlapR=o,i||0===o||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==o&&(t.onOverlap||e.onOverlap)&&this.emit(a.default.OVERLAP,t.gameObject,e.gameObject,t,e),0!==o;const n=t.center.x-e.center.x,l=t.center.y-e.center.y,c=Math.sqrt(Math.pow(n,2)+Math.pow(l,2)),d=(e.center.x-t.center.x)/c||0,p=(e.center.y-t.center.y)/c||0;let f=2*(t.velocity.x*d+t.velocity.y*p-e.velocity.x*d-e.velocity.y*p)/(t.mass+e.mass);(t.immovable||e.immovable)&&(f*=2),t.immovable||(t.velocity.x=t.velocity.x-f/t.mass*d,t.velocity.y=t.velocity.y-f/t.mass*p),e.immovable||(e.velocity.x=e.velocity.x+f/e.mass*d,e.velocity.y=e.velocity.y+f/e.mass*p),t.immovable||e.immovable||(o/=2);const v=(0,r.default)(t.center,e.center),x=(o+w.default.EPSILON)*Math.cos(v),m=(o+w.default.EPSILON)*Math.sin(v);return t.immovable||(t.x-=x,t.y-=m,t.updateCenter()),e.immovable||(e.x+=x,e.y+=m,e.updateCenter()),t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,(t.onCollide||e.onCollide)&&this.emit(a.default.COLLIDE,t.gameObject,e.gameObject,t,e),!0}intersects(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?(0,h.default)(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))}circleBodyIntersects(t,e){const i=(0,o.default)(t.center.x,e.left,e.right),s=(0,o.default)(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-s)*(t.center.y-s)<=t.halfWidth*t.halfWidth}overlap(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.collideObjects(t,e,i,s,r,!0)}collide(t,e,i,s,r){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=i),this.collideObjects(t,e,i,s,r,!1)}collideObjects(t,e,i,s,r,o){let h,n;const a=Array.isArray(t),l=Array.isArray(e);if(this._total=0,a||l){if(!a&&l)for(h=0;h<e.length;h++)this.collideHandler(t,e[h],i,s,r,o);else if(a&&!l)if(e)for(h=0;h<t.length;h++)this.collideHandler(t[h],e,i,s,r,o);else for(h=0;h<t.length;h++){const e=t[h];for(n=h+1;n<t.length;n++)h!==n&&this.collideHandler(e,t[n],i,s,r,o)}else if(a&&l)for(h=0;h<t.length;h++)for(n=0;n<e.length;n++)this.collideHandler(t[h],e[n],i,s,r,o)}else this.collideHandler(t,e,i,s,r,o);return this._total>0}collideHandler(t,e,i,s,r,o){return!(!t||!e)&&(!Array.isArray(e)&&t.isBody&&e.isBody?this.collideBodyVsBody(t,e,i,s,r,o):void 0)}collideBodyVsBody(t,e,i,s,r,o){return!(!t.isBody||!e.isBody||(this.separate(t,e,s,r,o)&&(i&&i.call(r,t,e),this._total++),0))}wrap(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)}wrapArray(t,e){for(let i=0;i<t.length;i++)this.wrapObject(t[i],e)}wrapObject(t,e){void 0===e&&(e=0),t.x=(0,b.default)(t.x,this.bounds.left-e,this.bounds.right+e),t.y=(0,b.default)(t.y,this.bounds.top-e,this.bounds.bottom+e)}shutdown(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()}destroy(){this.shutdown(),this.scene=null}}e.World=Y},1233:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(i(4153)),o=i(406),h=s(i(777)),n=s(i(6108));e.default=function(t,e,i,s,a,l){const c=(0,r.default)(t,e-s,i-s,2*s,2*s,a,l);if(0===c.length)return c;const d=new o.Circle(e,i,s),u=new o.Circle,y=[];for(let t=0;t<c.length;t++){const e=c[t];e.isCircle?(u.setTo(e.center.x,e.center.y,e.halfWidth),(0,h.default)(d,u)&&y.push(e)):(0,n.default)(d,e)&&y.push(e)}return y}},4153:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,s,r,o,h){void 0===o&&(o=!0),void 0===h&&(h=!1);let n=[],a=[];const l=t.treeMinMax;if(l.minX=e,l.minY=i,l.maxX=e+s,l.maxY=i+r,h&&(a=t.staticTree.search(l)),o&&t.useTree)n=t.tree.search(l);else if(o){const o=t.bodies,h={position:{x:e,y:i},left:e,top:i,right:e+s,bottom:i+r,isCircle:!1},a=t.intersects;o.iterate((function(t){a(t,h)&&n.push(t)}))}return a.concat(n)}},9915:(t,e)=>{var i,s;Object.defineProperty(e,"__esModule",{value:!0}),e.FACING=e.PHYSICS_TYPE=void 0,function(t){t[t.DYNAMIC_BODY=0]="DYNAMIC_BODY",t[t.STATIC_BODY=1]="STATIC_BODY",t[t.GROUP=2]="GROUP",t[t.TILEMAPLAYER=3]="TILEMAPLAYER"}(i=e.PHYSICS_TYPE||(e.PHYSICS_TYPE={})),function(t){t[t.FACING_NONE=10]="FACING_NONE",t[t.FACING_UP=11]="FACING_UP",t[t.FACING_DOWN=12]="FACING_DOWN",t[t.FACING_LEFT=13]="FACING_LEFT",t[t.FACING_RIGHT=14]="FACING_RIGHT"}(s=e.FACING||(e.FACING={})),e.default={PHYSICS_TYPE:i,FACING:s}},9940:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={COLLIDE:"collide",OVERLAP:"overlap",PAUSE:"pause",RESUME:"resume",TILE_COLLIDE:"tilecollide",TILE_OVERLAP:"tileoverlap",WORLD_BOUNDS:"worldbounds",WORLD_STEP:"worldstep"}},7985:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProcessQueue=void 0;const r=s(i(6729)),o=s(i(7021));class h extends r.default{constructor(){super(),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1}add(t){return this._pending.push(t),this._toProcess++,t}remove(t){return this._destroy.push(t),this._toProcess++,t}removeAll(){for(var t=this._active,e=this._destroy,i=t.length;i--;)e.push(t[i]),this._toProcess++;return this}update(){if(0===this._toProcess)return this._active;var t,e,i=this._destroy,s=this._active;for(t=0;t<i.length;t++){e=i[t];var r=s.indexOf(e);-1!==r&&(s.splice(r,1),this.emit(o.default.PROCESS_QUEUE_REMOVE,e))}for(i.length=0,i=this._pending,t=0;t<i.length;t++)e=i[t],(!this.checkQueue||this.checkQueue&&-1===s.indexOf(e))&&(s.push(e),this.emit(o.default.PROCESS_QUEUE_ADD,e));return i.length=0,this._toProcess=0,s}getActive(){return this._active}get length(){return this._active.length}destroy(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}}e.ProcessQueue=h},2632:(t,e,i)=>{var s=i(2909);function r(t){if(!(this instanceof r))return new r(t,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var s=0;s<e.length;s++)if(i(t,e[s]))return s;return-1}function h(t,e){n(t,0,t.children.length,e,t)}function n(t,e,i,s,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,h=e;h<i;h++)o=t.children[h],a(r,t.leaf?s(o):o);return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function y(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,i,r,o){for(var h,n=[e,i];n.length;)(i=n.pop())-(e=n.pop())<=r||(h=e+Math.ceil((i-e)/r/2)*r,s(t,h,e,i,o),n.push(e,h,h,i))}r.prototype={all(){return this._all(this.data,[])},search(t){var e=this.data,i=[],s=this.toBBox;if(!p(t,e))return i;for(var r,o,h,n,a=[];e;){for(r=0,o=e.children.length;r<o;r++)h=e.children[r],p(t,n=e.leaf?s(h):h)&&(e.leaf?i.push(h):y(t,n)?this._all(h,i):a.push(h));e=a.pop()}return i},collides(t){var e=this.data,i=this.toBBox;if(!p(t,e))return!1;for(var s,r,o,h,n=[];e;){for(s=0,r=e.children.length;s<r;s++)if(o=e.children[s],p(t,h=e.leaf?i(o):o)){if(e.leaf||y(t,h))return!0;n.push(o)}e=n.pop()}return!1},load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var s=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===s.height)this._splitRoot(this.data,s);else{if(this.data.height<s.height){var r=this.data;this.data=s,s=r}this._insert(s,this.data.height-s.height-1,!0)}else this.data=s;return this},insert(t){return t&&this._insert(t,this.data.height-1),this},clear(){return this.data=f([]),this},remove(t,e){if(!t)return this;for(var i,s,r,h,n=this.data,a=this.toBBox(t),l=[],c=[];n||l.length;){if(n||(n=l.pop(),s=l[l.length-1],i=c.pop(),h=!0),n.leaf&&-1!==(r=o(t,n.children,e)))return n.children.splice(r,1),l.push(n),this._condense(l),this;h||n.leaf||!y(n,a)?s?(i++,n=s.children[i],h=!1):n=null:(l.push(n),c.push(i),i=0,s=n,n=n.children[0])}return this},toBBox:t=>t,compareMinX:l,compareMinY:c,toJSON(){return this.data},fromJSON(t){return this.data=t,this},_all(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build(t,e,i,s){var r,o=i-e+1,n=this._maxEntries;if(o<=n)return h(r=f(t.slice(e,i+1)),this.toBBox),r;s||(s=Math.ceil(Math.log(o)/Math.log(n)),n=Math.ceil(o/Math.pow(n,s-1))),(r=f([])).leaf=!1,r.height=s;var a,l,c,d,u=Math.ceil(o/n),y=u*Math.ceil(Math.sqrt(n));for(v(t,e,i,y,this.compareMinX),a=e;a<=i;a+=y)for(v(t,a,c=Math.min(a+y-1,i),u,this.compareMinY),l=a;l<=c;l+=u)d=Math.min(l+u-1,c),r.children.push(this._build(t,l,d,s-1));return h(r,this.toBBox),r},_chooseSubtree(t,e,i,s){for(var r,o,h,n,a,l,c,u,y,p;s.push(e),!e.leaf&&s.length-1!==i;){for(c=u=1/0,r=0,o=e.children.length;r<o;r++)a=d(h=e.children[r]),y=t,p=h,(l=(Math.max(p.maxX,y.maxX)-Math.min(p.minX,y.minX))*(Math.max(p.maxY,y.maxY)-Math.min(p.minY,y.minY))-a)<u?(u=l,c=a<c?a:c,n=h):l===u&&a<c&&(c=a,n=h);e=n||e.children[0]}return e},_insert(t,e,i){var s=this.toBBox,r=i?t:s(t),o=[],h=this._chooseSubtree(r,this.data,e,o);for(h.children.push(t),a(h,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split(t,e){var i=t[e],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);var o=this._chooseSplitIndex(i,r,s),n=f(i.children.splice(o,i.children.length-o));n.height=i.height,n.leaf=i.leaf,h(i,this.toBBox),h(n,this.toBBox),e?t[e-1].children.push(n):this._splitRoot(i,n)},_splitRoot(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex(t,e,i){var s,r,o,h,a,l,c,u,y,p,f,v,x,m;for(l=c=1/0,s=e;s<=i-e;s++)y=r=n(t,0,s,this.toBBox),p=o=n(t,s,i,this.toBBox),void 0,void 0,void 0,void 0,f=Math.max(y.minX,p.minX),v=Math.max(y.minY,p.minY),x=Math.min(y.maxX,p.maxX),m=Math.min(y.maxY,p.maxY),h=Math.max(0,x-f)*Math.max(0,m-v),a=d(r)+d(o),h<l?(l=h,u=s,c=a<c?a:c):h===l&&a<c&&(c=a,u=s);return u},_chooseSplitAxis(t,e,i){var s=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,i,s)<this._allDistMargin(t,e,i,r)&&t.children.sort(s)},_allDistMargin(t,e,i,s){t.children.sort(s);var r,o,h=this.toBBox,l=n(t,0,e,h),c=n(t,i-e,i,h),d=u(l)+u(c);for(r=e;r<i-e;r++)o=t.children[r],a(l,t.leaf?h(o):o),d+=u(l);for(r=i-e-1;r>=e;r--)o=t.children[r],a(c,t.leaf?h(o):o),d+=u(c);return d},_adjustParentBBoxes(t,e,i){for(var s=i;s>=0;s--)a(e[s],t)},_condense(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():h(t[i],this.toBBox)},compareMinX:(t,e)=>t.left-e.left,compareMinY:(t,e)=>t.top-e.top,toBBox:t=>({minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom})},t.exports=r},7021:t=>{t.exports={PROCESS_QUEUE_ADD:"add",PROCESS_QUEUE_REMOVE:"remove"}},6713:t=>{function e(t,e,i){var s=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&s.value&&"object"==typeof s.value&&(s=s.value),!(!s||!function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(s))&&(void 0===s.enumerable&&(s.enumerable=!0),void 0===s.configurable&&(s.configurable=!0),s)}function i(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function s(t,s,r,h){for(var n in s)if(s.hasOwnProperty(n)){var a=e(s,n,r);if(!1!==a){if(i((h||t).prototype,n)){if(o.ignoreFinals)continue;throw new Error(`cannot override final property '${n}', set Class.ignoreFinals = true to skip`)}Object.defineProperty(t.prototype,n,a)}else t.prototype[n]=s[n]}}function r(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)s(t,e[i].prototype||e[i])}}function o(t){var e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var o=t.Extends;e=function(){o.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var h=null;return t.Mixins&&(h=t.Mixins,delete t.Mixins),r(e,h),s(e,t,!0,i),e}o.extend=s,o.mixin=r,o.ignoreFinals=!1,t.exports=o},2909:t=>{function e(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function i(t,e){return t<e?-1:t>e?1:0}var s=function(t,r,o,h,n){for(void 0===o&&(o=0),void 0===h&&(h=t.length-1),void 0===n&&(n=i);h>o;){if(h-o>600){var a=h-o+1,l=r-o+1,c=Math.log(a),d=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*d*(a-d)/a)*(l-a/2<0?-1:1),y=Math.max(o,Math.floor(r-l*d/a+u)),p=Math.min(h,Math.floor(r+(a-l)*d/a+u));s(t,r,y,p,n)}var f=t[r],v=o,x=h;for(e(t,o,r),n(t[h],f)>0&&e(t,o,h);v<x;){for(e(t,v,x),v++,x--;n(t[v],f)<0;)v++;for(;n(t[x],f)>0;)x--}0===n(t[o],f)?e(t,o,x):e(t,++x,h),x<=r&&(o=x+1),r<=x&&(h=x-1)}};t.exports=s},5066:t=>{t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var s=e.split("."),r=t,o=i,h=0;h<s.length;h++){if(!r.hasOwnProperty(s[h])){o=i;break}o=r[s[h]],r=r[s[h]]}return o}return i}return i}}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}var s={};(()=>{var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.ArcadePhysics=void 0;var e=i(2062);Object.defineProperty(t,"ArcadePhysics",{enumerable:!0,get:function(){return e.ArcadePhysics}})})(),PHYSICS=s})();